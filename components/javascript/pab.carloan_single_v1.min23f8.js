function PreQuoteValidator(){return validator=$("#preQuoteSingle").validate({ignore:".ignore",errorClass:"eror_msg",errorElement:"label",highlight:function(r){$(r).closest(".elem-div").addClass("has-error")},errorPlacement:function(r,e){"city"==$(e).attr("name")?r.insertAfter($(".city_error")):"car_model"==$(e).attr("name")?r.insertAfter($(".model_error")):"car_make"==$(e).attr("name")?r.insertAfter($(".make_error")):"consent_chkbox"!=$(e).attr("name")&&"gender"!=$(e).attr("name")&&r.insertAfter($(e))},unhighlight:function(r){$(r).closest(".elem-div").removeClass("eror_msg"),$(r).closest(".elem-div").removeClass("has-error")},rules:{full_name:{required:!0,regex:/^([A-Za-z]+ )+[A-Za-z]+$/},email:{required:!0,regex:/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/},mobile_number:{required:!0,regex:/^[6789]\d{9}$/},city:{required:!0},annual_income:{required:!0,minlength:3},car_make:{required:!0},car_model:{required:!0},gender:{required:!0},consent_chkbox:{required:!0}},messages:{full_name:{required:"Enter your name",regex:"Enter a valid full name"},email:{required:"Enter your email address",regex:"Enter a valid email address"},mobile_number:{required:"Enter your mobile number",regex:"Enter a valid mobile number"},city:{required:"Select current city"},annual_income:{required:"Enter annual income",minlength:"Enter valid annual income"},car_make:{required:"Select car maker"},car_model:{required:"Select car model"}}}),validator.form()}function displayCarModel(r){r>0?($("#car_variant_div").addClass("hide"),$.ajax({type:"POST",url:"/"+page_action_url+"/",dataType:"json",data:"step=zoom_car_model&car_make_id="+r,success:function(r){if("success"==r.status){model=r.car_model;for(var e='<option value="" data-hidden="true">- Select -</option>',a=0;a<model.length;a++)e+='<option value="'+model[a].carmodel_id+'">'+model[a].carmodel_name+"</option>";return $("#car_model").html(""),$("#car_model").append(e),void $("#car_model").select2("render")}$("#car_model").select2("render")}})):$("#car_model_div").addClass("hide")}$(document).on("keyup","#day_of_birth",function(r){2==$(this).val().length&&$("#month_of_birth").focus()}),$(document).on("keyup","#month_of_birth",function(r){2==$(this).val().length&&$("#year_of_birth").focus()}),$(document).on("keydown","#year_of_birth",function(r){8!=r.which&&46!=r.which&&37!=r.which||""!=$(this).val()||$("#month_of_birth").focus()}),$(document).on("keydown","#month_of_birth",function(r){8!=r.which&&46!=r.which&&37!=r.which||""!=$(this).val()||$("#day_of_birth").focus()}),$(document).on("blur","#day_of_birth",function(){var r=$(this).val();$(this).val().length>0&&$(this).val().length<2?"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version&&(r=parseInt(0)+r,$(this).val(r)):"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||"dd"!=r&&(r=Number(r),$(this).val(r)),formValidator.dayValidate($(this))}),$(document).on("keyup","#annual_income",function(){$(this).attr("key-value",$(this).val()),$(this).val(rupeeFormat($(this).val()))}),$(document).on("blur","#month_of_birth",function(){var r=$(this).val();$(this).val().length>0&&$(this).val().length<2?"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version&&(r=parseInt(0)+r,$(this).val(r)):"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||"mm"!=r&&(r=Number(r),$(this).val(r)),formValidator.monthValidate($(this))}),$(document).on("blur","#year_of_birth",function(){formValidator.yearValidate($(this))}),formValidator={yearValidate:function(r){var e,a=new Date,t=a.getFullYear()-65,o=a.getFullYear()-18,s=$(r).prev(),i=$(s).prev();return 1==(e=formatValidatorNew("",$(r),"","","","4",t,o,"","",""))?($(r).removeClass("error"),FirstPageError.remove($(r),"data-validation-error-msg")):($(r).addClass("error"),FirstPageError.add($(r),"data-validation-error-msg")),parseInt($(s).val())<=0&&($(s).addClass("error"),FirstPageError.add($(r),"data-validation-error-msg")),parseInt($(i).val())<=0?($(i).addClass("error"),FirstPageError.add($(r),"data-validation-error-msg")):formValidator.dayValidate(i),e?($(".dob_error_msg").addClass("hide"),$(".date_eror_msg").removeClass("hide")):($(".dob_error_msg").removeClass("hide"),$(".date_eror_msg").addClass("hide")),e},monthValidate:function(r){var e=parseInt($(r).next()),a=parseInt($(r).prev()),t=formatValidatorNew("",$(r),"","","","5",1,12,"","","");return 1==t?($(r).removeClass("error"),FirstPageError.remove($(e))):($(r).addClass("error"),FirstPageError.add($(r),"data-validation-error-msg")),parseInt($(a).val())<=0?($(a).addClass("error"),FirstPageError.add($(e),"data-validation-error-msg")):formValidator.dayValidate(a),t?($(".dob_error_msg").addClass("hide"),$(".date_eror_msg").removeClass("hide")):($(".dob_error_msg").removeClass("hide"),$(".date_eror_msg").addClass("hide")),t},dayValidate:function(r){var e,a=$(r).next(),t=$(a).next();e=dateValidate.calculateDays($(a).val(),$(t).val());var o=formatValidatorNew("",$(r),"","","","4","1",e,"","","");return 1==o?($(r).removeClass("error"),$(t).hasClass("error")||$(a).hasClass("error")||FirstPageError.remove($(t))):($(r).addClass("error"),FirstPageError.add($(t),"data-validation-error-msg")),o?($(".dob_error_msg").addClass("hide"),$(".date_eror_msg").removeClass("hide")):($(".dob_error_msg").removeClass("hide"),$(".date_eror_msg").addClass("hide")),o},quoteFullFormValidator:function(){var r=!0;return $(".datepick").hasClass("error")&&(r=!1),(""==$("#day_of_birth").val()||isNaN($("#day_of_birth").val()))&&(FirstPageError.add($("#year_of_birth"),"data-validation-error-msg"),r=!1),(""==$("#month_of_birth").val()||isNaN($("#month_of_birth").val()))&&(FirstPageError.add($("#year_of_birth"),"data-validation-error-msg"),r=!1),(""==$("#year_of_birth").val()||isNaN($("#year_of_birth").val()))&&(FirstPageError.add($("#year_of_birth"),"data-validation-error-msg"),r=!1),r}},FirstPageError={add:function(r,e){errorspan=$(r).parent("div").next(".date_eror_msg").attr("class"),void 0==errorspan?($("span[class*='error_indicator']",$(r).parents(".form-group")).addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error"),$(r).next(".date_eror_msg").addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error")):($(r).parent("div").next(".date_eror_msg").addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error"),$(r).parent("div").parent("div").next(".date_eror_msg").addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error"))},remove:function(r){$(r).removeClass("error").parent("div").next(".date_eror_msg").removeClass("form-error").html("").parents(".form-group").removeClass("has-error"),$(r).removeClass("error").parent("div").parent("div").next(".date_eror_msg").removeClass("form-error").html("").parents(".form-group").removeClass("has-error")},addForSelect:function(r,e){errorspan=$(r).parent("div").next(".date_eror_msg").attr("class"),void 0==errorspan?($("span[class*='error_indicator']",$(r).parents(".form-group")).addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error"),$(r).next(".date_eror_msg").addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error")):($(r).parent("div").next(".date_eror_msg").addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error"),$(r).parent("div").parent("div").next(".date_eror_msg").addClass("form-error").html($(r).attr(e)).parents(".form-group").addClass("has-error"))},removeForSelect:function(r){$(r).removeClass("error").parent("div").next(".date_eror_msg").removeClass("form-error").html("").parents(".form-group").removeClass("has-error"),$(r).removeClass("error").parent("div").parent("div").next(".date_eror_msg").removeClass("form-error").html("").parents(".form-group").removeClass("has-error")}},$(document).on("keypress","input[name='full_name']",function(r){return formatValidatorNew(r,$(this),"","","",2,"","",2,80,"")}),$(document).on("keypress","input[name='mobile_number'], input[name='new_mobile_number']",function(r){return formatValidatorNew(r,$(this),"","","",19,"","",10,10,"")}),$(document).on("keypress","input[name='day_of_birth']",function(r){return formatValidatorNew(r,$(this),"","","day_of_birth",5,"","","","","")}),$(document).on("keypress","input[name='month_of_birth']",function(r){return formatValidatorNew(r,$(this),"","","month_of_birth",5,"","","","","")}),$(document).on("keypress","input[name='year_of_birth']",function(r){return formatValidatorNew(r,$(this),"","","year_of_birth",5,"","","","","")}),$(document).on("keypress","input[name='otp']",function(r){return formatValidatorNew(r,$(this),"","","",5,"","","","","")}),$(document).on("keypress","input[name='email']",function(r){return formatValidatorNew(r,$(this),"","","",20,"","","","","")}),$(document).on("blur","#mobile_number",function(){$(this);var r=$(this).val(),e=!0;0!=r.length&&null!=r.match(/^[6789]\d{9}$/)||(e=!1),e?$(".mobile_error").addClass("hide"):$(".mobile_error").removeClass("hide")}),$(document).on("blur","#full_name",function(){var r=$(this).val(),e=!0;0!=r.length&&null!=r.match(/[a-zA-Z]{2,}[ ][a-zA-Z]+(?: [a-zA-Z]+){0,2}/)||(e=!1),e?$(".name_error").addClass("hide"):$(".name_error").removeClass("hide")}),$(document).on("blur","#email",function(){var r=$(this).val(),e=!0;0!=r.length&&null!=r.match(/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/)||(e=!1),e?$(".email_error").addClass("hide"):$(".email_error").removeClass("hide")}),$(document).on("change","#city, #car_make, #car_model",function(){var r=!0;0==$(this).val().length&&(r=!1),r?($("#"+$(this).attr("name")+"-error").addClass("hide"),$(this).closest(".elem-div").removeClass("has-error")):($(this).closest(".elem-div").addClass("has-error"),$("#"+$(this).attr("name")+"-error").removeClass("hide"))}),$.validator.addMethod("regex",function(r,e,a){return r.match(a)}),$(document).ready(function(){$("#city").select2({placeholder:"Select a city"}),$("#car_make").select2({placeholder:"Select car maker"}),$("#car_model").select2({placeholder:"Select car model"})}),$(document).on("blur",function(){}),$(document).on("click",".proceed_btn",function(){_pb_tracker.trackEvent(["clevertap"],"CL_CampaignPage_Submitted",{Description:"Campaign Page Submitted",Platform:"Web"});var r=formValidator.quoteFullFormValidator(),e=!1,a=!1,t=!1,o=$("#year_of_birth").val(),s=$("#month_of_birth").val(),i=$("#day_of_birth").val();""!=o&&""!=s&&""!=i&&(e=formValidator.dayValidate($("#day_of_birth")),a=formValidator.monthValidate($("#month_of_birth")),t=formValidator.yearValidate($("#year_of_birth"))),(r=r&&e&&a&&t)?($(".dob_error_msg").addClass("hide"),$(".dob_error_msg").parent(".elem-div").removeClass("has-error"),$(".dob_error_indicator").removeClass("hide")):($(".dob_error_msg").removeClass("hide"),$(".dob_error_msg").parent(".elem-div").addClass("has-error"),$(".dob_error_indicator").addClass("hide"));var n=!0,d=$("#full_name").val(),l=$("#city").find("option:selected").text(),m=$("#year_of_birth").val()+"-"+$("#month_of_birth").val()+"-"+$("#day_of_birth").val(),_=$("#email").val(),h=$("#mobile_number").val(),c=$("#city").val(),u=$("#car_model").val(),v=$("#car_make").val(),f=$("#annual_income").val(),g=$("input[name=gender]:checked").val(),p="";if($(this).hasClass("proceed_btn")&&(n=PreQuoteValidator(),p="customer_name="+d+"&city_text="+l+"&date_of_birth="+m+"&email="+_+"&mobile_number="+h+"&city_name="+c+"&car_make="+v+"&car_model="+u+"&monthly_income="+f+"&gender="+g),$(this).hasClass("proceed_btn_utmtitle_Pb_HomePage")&&(n=PreQuoteValidator(),p="customer_name="+d+"&city_text="+l+"&date_of_birth="+m+"&email="+_+"&mobile_number="+h+"&city_name="+c),n&&r&&($(this).hasClass("proceed_btn")&&($("#proceed_btn").addClass("hide"),$("#loading_btn").removeClass("hide")),$(this).hasClass("proceed_btn_utmtitle_Pb_HomePage")&&($("#proceed_btn").addClass("hide"),$("#loading_btn").removeClass("hide"))),n&&r&&($.ajax({type:"POST",url:"/"+page_action_url+"/",data:p+"&step=zoom_car_single",dataType:"json",success:function(r){void 0!=r.redirect_url?setTimeout(function(){window.parent.location=r.redirect_url},1e3):"success"==r.status?$("#loading_btn").addClass("hide"):"error"==r.status&&($("#prequotepage_error").removeClass("hide"),$("#prequotepage_error").html(r.error_message),$("html, body").animate({scrollTop:50},"1000"),$("#loading_btn").addClass("hide"),$(".next_btn").removeClass("hide"))},error:function(){$("#loading_btn").addClass("hide"),$(".next_btn").removeClass("hide")}}),window.location.search.indexOf("utm_medium=Pb_HomePage")>-1))window.open("https://www.zoomcar.com/zap/subscribe?ref=paisabtag&utm_medium=alliance_campaign&utm_campaign=PaisaBazzar")}),$(document).on("change","#car_make",function(){$("#car_model").val(null).trigger("change"),displayCarModel($(this).val())}),$(document).on("click",".show_details",function(){var r=$(this),e=$(this).attr("key-attr");$("."+e);"Show Details"==$(r).find(".det_text").text()?$(".show_det_").slideToggle("fast","swing",function(){$(r).find(".det_text").text("Hide Details")}):$(".show_det_").slideToggle("fast","swing",function(){$(r).find(".det_text").text("Show Details")})});