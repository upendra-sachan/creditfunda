var address_pattern=/^\d*[a-zA-Z0-9#][a-zA-Z0-9\.,#\-\/\(\) ]*$/,office_pin_code=new Array,pin_code_array=new Array,personalInfo=new Object,autolistener=0,quote_card_number={is_available:0,is_blocked:0};function getSliderEligibility(e){showLoader("loading","display-block"),$(quote_element_object).attr("loan_type",e);var r="";""!=quote_element_object.loan_type&&(r=quote_element_object.loan_type),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"loan_type="+r+"&step=sliderrequest&debit_card_type_id="+e,dataType:"json",success:function(r){autolistener=0,"success"==r.status?($("#main_content").html(r.html),showLoader("loading","display-none")):"error"==r.status&&($("#err-msg").html(r.error_message),$("#err-msg").addClass("message-error m5b"),$('input[name="debit_card_type"]').each(function(){$(this).attr("key-value")==e&&$(this).parent("label").removeClass("selected")}),window.scrollTo(0,100),showLoader("loading","display-none"))}})}function applyBank(e,r,a){showLoader("loading","display-block");var t=e;$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"step=bankapply&applybankId="+t+"&debit_card_id="+r+"&debit_card_type_id="+quote_element_object.loan_type+"&loan_type="+quote_element_object.loan_type+"&is_partner="+a,dataType:"json",success:function(e){"success"==e.status?0==a?(showLoader("loading","display-none"),showOverlay("overlay_message","display-block"),$(".overlayClass").html(e.error_message)):(autolistener=1,AutoListenerSave(1,0),$("#main_content").hide("1000",function(){$("#main_content").html(e.html),$("#main_content").show("2000"),showLoader("loading","display-none"),$("body,html").animate({scrollTop:$("#wrapper").children(".top").css("height")},100),$(e.additional_data_value).each(function(e,r){0==e?pin_code_array=r:office_pin_code=r})})):null!=e.redirect_url?window.parent.location=e.redirect_url:"error"==e.status&&($("#err-msg").html(e.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}})}function panValidator(e){var r=1,a=$(e).val();return formError.remove($(e)),""!=$(e).val()&&(10==a.length&&isPAN(a)?(formError.remove($(e)),r=1):(r=0,formError.add($(e)))),r}function uploadFile(){var e=null,r=!0;if($("#id_proof").attr("style",""),$("#add_proof").attr("style",""),$("#age_proof").attr("style",""),$("#income_proof").attr("style",""),""==$("#id_proof").val()&&""==$("#add_proof").val()&&""==$("#age_proof").val()&&""==$("#income_proof").val()&&($("#id_proof").css("border","solid 1px red"),$("#add_proof").css("border","solid 1px red"),$("#age_proof").css("border","solid 1px red"),$("#income_proof").css("border","solid 1px red"),r=!1),(""!=$("#id_proof").val()&&""==$("#file_id_proof").val()||""==$("#id_proof").val()&&""!=$("#file_id_proof").val())&&($("#id_proof").css("border","solid 1px red"),r=!1),(""!=$("#add_proof").val()&&""==$("#file_add_proof").val()||""==$("#add_proof").val()&&""!=$("#file_add_proof").val())&&($("#add_proof").css("border","solid 1px red"),r=!1),(""!=$("#age_proof").val()&&""==$("#file_age_proof").val()||""==$("#age_proof").val()&&""!=$("#file_age_proof").val())&&($("#age_proof").css("border","solid 1px red"),r=!1),(""!=$("#income_proof").val()&&""==$("#file_income_proof").val()||""==$("#income_proof").val()&&""!=$("#file_income_proof").val())&&($("#income_proof").css("border","solid 1px red"),r=!1),!r)return!1;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");for(var a=document.getElementById("uploaddocs"),t=new FormData(a),o=0;o<a.length;o++)""!=$("#"+a[o].id).val()&&null!=document.getElementById(a[o].id)&&0==document.getElementById(a[o].id).disabled&&$("."+a[o].id+"_loader").html('<img height="20" src="/components/images/loading.gif">');if(showLoader("loading","display-block"),$("#err-msg").addClass("display-none"),e.open("POST","/"+page_action_url+"?&step=upload_docs",!1),e.send(t),4==e.readyState&&200==e.status){var n=jQuery.parseJSON(e.responseText);if("success"==n.status)for(o=0;o<a.length;o++){if(""!=$("#"+a[o].id).val()){var s=n.error_message;null!=document.getElementById(a[o].id)&&(1==s.error_type||2==s.error_type||3==s.error_type||(document.getElementById(a[o].id).disabled=!0)),"file_id_proof"==a[o].id&&$("."+a[o].id+"_loader").html(s.file_id_proof),"file_add_proof"==a[o].id&&$("."+a[o].id+"_loader").html(s.file_add_proof),"file_age_proof"==a[o].id&&$("."+a[o].id+"_loader").html(s.file_age_proof),"file_income_proof"==a[o].id&&$("."+a[o].id+"_loader").html(s.file_income_proof)}"success"==s.upload_type&&setTimeout(function(){$(".doc-upload").addClass(" heading_success m10b"),$(".doc-upload").html(s.success_messgae)},1e3)}else if("error"==n.status){$("#err-msg").html(n.error_message),$("#err-msg").addClass("display-block message-error");for(o=0;o<a.length;o++)""!=$("#"+a[o].id).val()&&null!=document.getElementById(a[o].id)&&0==document.getElementById(a[o].id).disabled&&$("."+a[o].id+"_loader").html("")}showLoader("loading","display-none")}}function docuploadSelect(e){var r=e.id;$("."+r+"_loader").html(e.value)}function sendQuoteMail(){$("#reference_email").removeClass("error");var e;return""==$("#reference_email").val()?($("#reference_email").addClass("error"),!1):(is_email_validated=emailValidate($("#reference_email")),0==is_email_validated?($("#reference_email").addClass("error"),!1):($("#quote_msg").html('<img height="20" src="/components/images/loading.gif">'),e="step=send_quote&reference_email="+$("#reference_email").val(),void $.post("/"+page_action_url+"/",e,"","json").done(function(e){"success"==e.status?setTimeout(function(){$("#quote_msg").html('<span style="color:#fc9210; font-size:15px;">'+e.html+"</span>")},5e3):setTimeout(function(){$("#quote_msg").html('<span style="color:red; font-size:12px;">'+e.error_message+"</span>")},5e3)})))}function viewUploadFile(e){return $("#err-msg").removeClass("display-block message-error m5b"),$("#err-msg").addClass("display-none"),data="step=view_image&image="+e,$.ajax({type:"POST",url:"/"+page_action_url+"/",data:data,dataType:"json",success:function(e){"success"==e.status?($("#html-content").html(e.html),$("#fade-body").removeClass("display-none"),$("#fade-body").addClass("display-block"),$("#light-box").removeClass("display-none"),$("#light-box").addClass("display-block")):($("#html-content").html(""),$("#fade-body").removeClass("display-block"),$("#fade-body").addClass("display-none"),$("#light-box").removeClass("display-block"),$("#light-box").addClass("display-none"),$("#err-msg").html(e.error_message),$("#err-msg").removeClass("display-none"),$("#err-msg").addClass("display-block message-error m5b"),window.scrollTo(0,100))}}),!1}$(function(){if($("body,html").animate({scrollTop:$("#wrapper").children(".top").css("height")},800),getSliderForAmountAndTenure(),$(document).on("mouseout",".help",function(){$("."+$(this).attr("tooltip-class")).addClass("hide")}),$(document).on("mouseover",".help",function(){$("."+$(this).attr("tooltip-class")).removeClass("hide");var e=$(this).position();$("."+$(this).attr("tooltip-class")).css({top:e.top-20,left:e.left+30})}),"MSIE7"==version||"MSIE8"==version||"MSIE9"==version){var e=document.activeElement;$(":text").focus(function(){""!=$(this).attr("placeholder")&&$(this).val()==$(this).attr("placeholder")&&$(this).val("").removeClass("hasPlaceholder")}).blur(function(){""==$(this).attr("placeholder")||""!=$(this).val()&&$(this).val()!=$(this).attr("placeholder")||$(this).val($(this).attr("placeholder")).addClass("hasPlaceholder")}),$(":text").blur(),$(e).focus()}$(document).ready(function(){$("#city").select2({placeholder:"Select your city"}),$("#employment_type_id").select2({placeholder:"Select your employment"})}),$(document).on("blur","#day_of_birth",function(){var e=$(this).val();$(this).val().length>0&&$(this).val().length<2?"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version&&(e=parseInt(0)+e,$(this).val(e)):"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||"dd"!=e&&(e=Number(e),$(this).val(e)),formValidator.dayValidate($(this))}),$(document).on("change",".aadhar_mob_link",function(e){$(".aadhar_mob_link").prop("checked",!1),$('input[name="mob_aadhaar_linked"]').removeClass("error"),$('input[name="mob_aadhaar_linked"]').next().removeClass("ndnc_text_error"),$(this).prop("checked",!0)}),$(document).on("click change","[data-validation]",function(){validate_step1(2),validate_step2(2),allvalidate(this)}),$(document).on("blur","#month_of_birth",function(){var e=$(this).val();$(this).val().length>0&&$(this).val().length<2?"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version&&(e=parseInt(0)+e,$(this).val(e)):"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||"mm"!=e&&(e=Number(e),$(this).val(e)),formValidator.monthValidate($(this))}),$(document).on("blur","#year_of_birth",function(){formValidator.yearValidate($(this))}),$(document).on("click",".next_btn",function(){validate_step1(1)}),$(document).on("click",".conditions_apply",function(){var e=$(this).attr("link");""!=e&&window.open(e,"_blank")}),$(document).on("blur",'input[type="text"]',function(){$("."+$(this).attr("tooltip-class")).addClass("hide")}),$(document).on("blur","#bank_card_with_select_box",function(){$("."+$(this).attr("tooltip-class")).addClass("hide")}),$(document).on("focus",'input[type="text"]',function(){var e=Element.getPosition($(this)),r=$(this).parent().css("width"),a=$(this).parent().css("height");$(this).parent().siblings().find("span").hasClass("pointer")?$("."+$(this).attr("tooltip-class")).css({top:e.top-parseInt(a)/2-10,left:e.left+parseInt(r)+10}):(e=$(this).position(),$("."+$(this).attr("tooltip-class")).css({top:e.top-65,left:e.left+30})),$("."+$(this).attr("tooltip-class")).removeClass("hide")}),$(document).on("focus","#bank_card_with_select_box",function(){var e=Element.getPosition($(this)),r=$(this).parent().css("width"),a=$(this).parent().css("height");$(this).parent().siblings().find("span").hasClass("pointer")?$("."+$(this).attr("tooltip-class")).css({top:e.top-parseInt(a)/2-10,left:e.left+parseInt(r)+10}):(e=$(this).position(),$("."+$(this).attr("tooltip-class")).css({top:e.top-65,left:e.left+30})),$("."+$(this).attr("tooltip-class")).removeClass("hide")}),$(document).on("click","[data-labelfor]",function(){1==$("#ndnc").prop("checked")?(FirstPageErrorHandler.addErrorIndicator($("#ndnc"),"Missing field"),$(".ndnc_text").addClass("ndnc_text_error")):(FirstPageErrorHandler.removeErrorIndicator($("#ndnc")),$(".ndnc_text").removeClass("ndnc_text_error")),$("#"+$(this).attr("data-labelfor")).prop("checked",function(e,r){return!r})}),$(document).on("click",".amex_text,#cibil_check",function(){$("#cibil_check").prop("checked",function(e,r){return r?$(".amex_text").addClass("amex_text_error"):$(".amex_text").removeClass("amex_text_error"),!r})}),$(document).on("keypress","#otp",function(e){return formatValidatorNew(e,$(this),"","","",5,"","","","","")}),$(document).on("keypress","#residence_phone",function(e){return formatValidatorNew(e,$(this),"","","",5,"","","",11,"")}),$(document).on("keypress","#my_card_my_number",function(e){return formatValidatorNew(e,$(this),"","","",5,"","","",15,"")}),$(document).on("keypress","#aadhar_number",function(e){return formatValidatorNew(e,$(this),"","","",5,"","","",15,"")}),$(document).on("keypress","#mobile_change",function(e){return formatValidatorNew(e,$(this),"","","",19,"","","","","")}),$(document).on("keypress","#monthly_income, #slider_1_txt",function(e){return $(this).focus(),formatValidatorNew(e,$(this),"","","",8,"","","",12,"")}),$(document).on("keypress",".notrequired",function(e){}),$(document).on("blur",".required_address",function(){var e=$.trim($(this).val());""==e||e.length<3||e.length>31||!e.match(address_pattern)?formError.add($(this)):formError.remove($(this))}),$(document).on("blur",".address",function(){var e=$.trim($(this).val());""!=e&&(e.length<3||e.length>31||!e.match(address_pattern))?formError.add($(this)):formError.remove($(this))}),$(document).on("keypress",".required_address",function(e){return formatValidatorNew(e,$(this),"","","",12,"","","","","")}),$(document).on("keypress",".address",function(e){return formatValidatorNew(e,$(this),"","","",12,"","","","","")}),$(document).on("blur","#my_card_my_number",function(){if(""!=$(this).val()&&10==$(this).val().length){if("0000000000"==$(this).val())return $("#mamn_status").html("Card number not valid"),$(quote_card_number).attr("is_available",0),$(quote_card_number).attr("is_blocked",0),void formError.add($("#my_card_my_number"));$("#mamn_status").html("<img height='25' src='/components/images/loading.gif'>Checking availability for card number"),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"step=mamn_iib_request&card_number="+$(this).val()+"&bank_id=67",dataType:"json",success:function(e){"success"==e.status?($("#mamn_status").html(e.html),$(quote_card_number).attr("is_available",e.is_available),$(quote_card_number).attr("is_blocked",e.is_blocked),formError.remove($("#my_card_my_number"))):$("#mamn_status").html("Some internal error occurred")}})}else $("#mamn_status").html("Card number should be of 10 digit"),$(quote_card_number).attr("is_available",0),$(quote_card_number).attr("is_blocked",0),formError.add($("#my_card_my_number"))}),$(document).on("blur",".notrequired",function(){""==$(this).val()||$(this).val().length>2?formError.remove($(this)):formError.add($(this))}),$(document).on("keypress","input[name='pincode']",function(e){return 1==formatValidatorNew(e,$(this),"","","",5,"","","","","")&&(jQueryAutoComplete($(this),pin_code_array),!0)}),$(document).on("keypress","input[name='office_pincode']",function(e){return 1==formatValidatorNew(e,$(this),"","","",5,"","","","","")&&(jQueryAutoComplete($(this),office_pin_code),!0)}),$(document).on("change","#salary_mode_select_box",function(){$(quote_element_object_second).attr("salary_mode",$(this).val()),""!=$(this).val()?(FirstPageErrorHandler.removeErrorIndicator($('input[name="salary_mode"]')),$('input[name="salary_mode"]').parent().removeClass("error")):FirstPageErrorHandler.addError($('input[name="salary_mode"]'),"Missing field")}),$(document).on("click",".ndnc",function(){0==$(this).prop("checked")?(FirstPageErrorHandler.addErrorIndicator($(this),"Missing field"),$(".ndnc_text").addClass("ndnc_text_error")):(FirstPageErrorHandler.removeErrorIndicator($(this)),$(".ndnc_text").removeClass("ndnc_text_error"))}),$(document).on("blur",'input[name="monthly_income"], #slider_1_txt',function(){if(""==$(this).val()||"0"==$(this).val())$(this).addClass("error"),FirstPageErrorHandler.addErrorIndicator($('input[name="monthly_income"]'),"Missing field");else if($(this).val().length>1){0==formatValidatorNew("",$(this),"","","",8,"","","",11,"")?($(this).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(this),"Invalid data")):($(this).removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(this)))}}),$(document).on("change",function(){"0"==$(this).val()||""==$(this).val()?formError.addForSelect($(this)):formError.removeForSelect($(this))}),$(document).on("blur",".required",function(){""!=$(this).val()&&$(this).val().length>2?formError.remove($(this)):formError.add($(this))}),$(document).on("blur",".alpha",function(){alphaValidator($(this))}),$(document).on("keypress",".alpha",function(e){return formatValidatorNew(e,$(this),"","","",1,"","","","","")}),$(document).on("change","select[name='gender']",function(){}),$(document).on("blur",".pincode",function(){pincodeValidator($(this))}),$(document).on("blur","input[name='pan_number']",function(){panValidator($(this))&&$(this).val()}),$(document).on("change","#employer_state",function(){getCitiesForEmployer($(this).val(),"employer_city","office_pincode","office_city_validator","office_pincode_loader"),""==$(this).val()||0==$(this).val()?($("#employer_city").val(""),$("#office_pincode").val("")):$(this).removeClass("error")}),$(document).on("keypress",'input[name="customer_name"]',function(e){return $(this).hasClass("customer_name")?formatValidatorNew(e,$(this),"","","",2,"","","","",""):formatValidatorNew(e,$(this),"","","",1,"","","","","")}),$("#profession_type").on("change",function(){$(quote_element_object_second).attr("employment_type_sub_id",$(this).val()),""!=$(this).val()?($(this).parent().removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($('input[name="employment_type_id"]'))):($(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($('input[name="employment_type_id"]'),"Invalid data"))}),$("#other_loan_amount").on("keyup",function(e){$("#other_loan_amount_inword").html(digitToWordConvertor(unformatMoney($("#other_loan_amount").val()))),$("#other_loan_amount_inword").show()}),$("#other_loan_amount").on("keypress",function(e){return formatValidatorNew(e,$(this),"","","",7,"","","1","11","")}),$("#other_loan_amount").on("blur",function(){loanAmountValidator($(this))}),$(document).on("click","#submit_personal_information",submitPersonalInformation),$(document).on("click","#submit_personal_information_mobile",submitPersonalInformationMobile),$(document).on("click","#post_quote_submit",submitPostQuote),$(document).on("blur","#first_name",function(){firstNameValidate($(this))}),$(document).on("blur","#last_name",function(){lastNameValidate($(this))}),$(document).on("change",".state",function(){$("#city").parent().removeClass("error"),0==iconGroupButtonAction.unsetValue($(this),quote_element_object)&&iconGroupButtonAction.unsetValue($(this),quote_element_object_second),getCitiesForEmployer($(this).val(),"city",null,"city_validator")}),$(document).on("change",".sel-val",function(){$(this).attr("key-value",$(this).val());var e=$(this).attr("name");""!=$(this).val()?($("input[name='"+e+"']").parent().removeClass("error"),$("select[name='"+e+"']").parent().removeClass("error"),FirstPageErrorHandler.removeError($("select[name='"+e+"']"))):($("select[name='"+e+"']").parent().addClass("error"),FirstPageErrorHandler.addError($("select[name='"+e+"']"),"Missing field")),$(quote_element_object).attr(e,$(this).val())}),$(document).on("keyup",".amount",function(){$(this).attr("key-value",$(this).val()),$(this).val(rupeeFormat($(this).val()))}),$("#monthly_income, #slider_1_txt").on("keyup",function(e){$("#slider_1_inword").html(digitToWordConvertor(unformatMoney($(this).val()))),$("#slider_1_inword").show(),$(this).val(NewMoneyFormatInr($(this).val()))}),$(document).on("blur",".amount",function(){0==iconGroupButtonAction.setValue($(this),quote_element_object)&&iconGroupButtonAction.setValue($(this),quote_element_object_second)}),$(document).on("click",".radio",function(){iconAction.activateIcons($(this))}),$(document).on("click","span.main",function(){$(this).siblings("input").hasClass("append_button")?iconAction.appendButtonAction($(this).siblings("input")):$(this).siblings("input").hasClass("text-setup")?iconAction.textSetupAction($(this).siblings(".text-setup")):$(this).parents("label").children("input").hasClass("quote_validator")?formValidator.quoteForm1Validator($(this).siblings(".quote_validator")):iconAction.activateIcons($(this).parents("label").children("input"))}),$(document).on("click","label.main",function(){iconAction.activateIcons($(this).parents("label"))}),$(document).on("click",".text-setup",function(){"loan_amount"==$(this).attr("name")&&$(this).parents("li").addClass("loanother"),iconAction.textSetupAction($(this))}),$(document).on("click",".append_button",function(){iconAction.appendButtonAction($(this))}),$(document).on("click",".quote_validator",function(){formValidator.quoteForm1Validator($(this))}),$(document).on("blur","input[name='mobile_number']",function(){mobileValidate($(this))}),$(document).on("click",".select",function(){$(this).parent().hasClass("disable")||iconAction.activateSelectIcons($(this))}),$(document).on("keypress","input[name='mobile_number']",function(e){return formatValidatorNew(e,$(this),"","","",19,"","","","","")}),$(document).on("keypress","input[name='middle_name']",function(e){return formatValidatorNew(e,$(this),"","","",1,"","","","","")}),$(document).on("keypress","input[name='pan_number']",function(e){return formatValidatorNew(e,$(this),"","","",9,"","","","","")}),$(document).on("blur","input[name='email']",function(){emailValidate($(this))}),$(document).on("keypress","input[name='email']",function(e){return formatValidatorNew(e,$(this),"","","",20,"","",6,31,"")}),$(document).on("blur","input[name='company_name']",function(){""==$(this).val()?($(this).parent().addClass("errror"),FirstPageErrorHandler.addErrorIndicator($("input[name='employment_type_id']"),"Missing field")):($(this).parent().removeClass("errror"),FirstPageErrorHandler.removeErrorIndicator($("input[name='employment_type_id']"))),iconGroupButtonAction.SetValueByValueAttr($(this),quote_element_object_second)}),$(document).on("keyup",".datepick",checkDateOfBirth),$(document).on("keypress",".datepick",function(e){return formatValidatorNew(e,$(this),"","","",5,"","","","","")}),$(document).on("blur","#company_name",function(){$(quote_element_object_second).attr("company_name",$(this).val()),""==$(this).val()||$(this).val().length<4?($(this).parent().addClass("error"),$(this).addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#company_name"),"Missing field")):($(this).parent().removeClass("error"),$(this).removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#company_name")))}),$(document).on("change","#bank_card_with_select_box",function(){$(quote_element_object_second).attr("bank_card_with_select_box",$(this).val()),""==$(this).val()?($(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#bank_card_with_select_box"),"Missing field")):($(this).parent().removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#bank_card_with_select_box")))}),$(document).on("change","#city_name_select_box",function(){$(quote_element_object_second).attr("city_name_select_box",$(this).val()),""==$(this).val()?($(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#city_name_select_box"),"Missing field")):($(this).parent().removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#city_name_select_box")))}),$(document).on("blur","#customer_name",function(){$(quote_element_object_second).attr("customer_name",$(this).val()),""==$(this).val()||$(this).val().length<4?($(this).parent().addClass("error"),$(this).addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#customer_name"),"Missing field")):($(this).parent().removeClass("error"),$(this).removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#customer_name")))}),$("#profession_type").change(function(){var e=$(this).parents("div.panel").offset();""!=$(this).val()?($(this).parent().removeClass("error"),$("body,html").animate({scrollTop:parseInt(e.top)+parseInt($(this).parents("div.panel").css("height"))+25},1e3)):($(this).parent().addClass("error"),$("body,html").animate({scrollTop:parseInt(e.top)-35},1e3))}),$("#company_name").autocomplete({source:function(e,r){$(this);var a=$(this.element),t=a.data("jqrequest");t&&t.abort(),a.data("jqrequest",$.ajax({url:"/common-request",dataType:"json",async:"false",mode:"abort",asyn:!1,data:{employer_name:e.term,step:"get_employer_name"},beforeSend:function(){null!=document.getElementById("company_name_exists")&&(document.getElementById("company_name_exists").innerHTML='  <img height="25" src="/components/images/loading.gif">')},success:function(e){r($.map(e.html,function(e){return{label:e,value:e}})),null!=document.getElementById("company_name_exists")&&(document.getElementById("company_name_exists").innerHTML="")}}))},minLength:2,selectFirst:!0,selectOnly:!0,select:function(e,r){return $("#company_name").val(r.item.label),!0}}).keydown(function(e,r,a){if(13==e.which&&setTimeout(function(){$(".ui-autocomplete").css("display","none"),$("#monthly_income").focus()},500),(9==e.which||13==e.which)&&"none"!=$(".ui-autocomplete").css("display")){var t=$(".ui-autocomplete li:first a").html();return $("#company_name").val(t),!0}})}),formValidator={yearValidate:function(e){var r,a=new Date,t=a.getFullYear()-65,o=a.getFullYear()-1,n=$(e).prev(),s=$(n).prev();return 1==(r=formatValidatorNew("",$(e),"","","","4",t,o,"","",""))?($(e).removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(e))):($(e).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data")),parseInt($(n).val())<=0&&($(n).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field")),parseInt($(s).val())<=0?($(s).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field")):formValidator.dayValidate(s),r},monthValidate:function(e){var r=parseInt($(e).next()),a=parseInt($(e).prev()),t=formatValidatorNew("",$(e),"","","","5",1,12,"","","");return 1==t?($(e).removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(r))):($(e).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(r),"Invalid data")),parseInt($(a).val())<=0?($(a).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(r),"Missing field")):formValidator.dayValidate(a),t},dayValidate:function(e){var r,a=$(e).next(),t=$(a).next();r=dateValidate.calculateDays($(a).val(),$(t).val());var o=formatValidatorNew("",$(e),"","","","4","1",r,"","","");return 1==o?($(e).removeClass("error"),$(t).hasClass("error")||$(a).hasClass("error")||FirstPageErrorHandler.removeErrorIndicator($(t))):($(e).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(t),"Invalid data")),o},quoteForm1Validator:function(e){$("#company_name").parent().removeClass("error"),$("#employment_type_sub_id").parent().removeClass("error"),FirstPageErrorHandler.removeError($("#employment_type_sub_id")),FirstPageErrorHandler.removeErrorIndicator($(".employment-type"));var r=!1;($.each(quote_element_object,function(e,a){if(""==a&&$("input[name='"+e+"']").hasClass("notnull")&&"city_name"==e){var t="";$("#other_city").hasClass("hide")?$("input[name='"+e+"']").each(function(){FirstPageErrorHandler.addError($(this),"Missing field"),t=$(this)}):$("select[name='"+e+"']").each(function(){FirstPageErrorHandler.addError($(this),"Missing field"),t=$(this)});var o=$(t).parents("div.panel").position();return $("body,html").animate({scrollTop:parseInt(o.top)},100),r=!0,!1}}),r)||("self_employed_professional"==$(e).attr("key-name")||"self_employed_business"==$(e).attr("key-name")?($(".income_duration").text("gross annual"),$(".monthly_income-tooltip").html('<span class="pointer"></span>Enter your gross annual income. This would help us understand your profile and recommend suitable product.'),$(quote_element_object_second).attr("employment_type_sub_id","109")):($("#profession_type").val(""),$(quote_element_object_second).attr("employment_type_sub_id",""),$(".income_duration").text("gross monthly"),$(".monthly_income-tooltip").html('<span class="pointer"></span>Enter your gross monthly income excluding all variable, bonus and incentives. This would help us understand your profile and recommend suitable product.')),$("#slider_1_inword").html(""),$("input[name='monthly_income']").val(""),$(quote_element_object_second).attr("monthly_income",""),$("#slider_1").attr("max",parseInt($("#slider_1").attr("max"))),$("#slider_1").attr("value",parseInt($("#slider_1").attr("min"))),getSlider(quote_element_object,quote_element_object_second),iconGroupButtonAction.activeIcon($(e)),$("."+$(e).attr("key-name")+"-li").removeClass("hide"),$("#part-2").removeClass("hide"),$("#company_name").focus(),0==iconGroupButtonAction.setValue($(e),quote_element_object)&&iconGroupButtonAction.setValue($(e),quote_element_object_second))},quoteFullFormValidator:function(){var e=0,r=!0;return $.each(quote_element_object_second,function(a,t){if("city_name"==a)""==t?(e=$("input[name='city_name']").attr("error-scroll"),r=!1,$("select[name='city_name']").parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("input[name='city_name']"),"Missing field")):$("select[name='city_name']").parent().removeClass("error");else if("employment_type_id"==a)t>=2?$(quote_element_object_second).attr("employment_type_sub_id","109"):$(quote_element_object_second).attr("employment_type_sub_id","");else if("monthly_income"==a){0==rupeeValidate($("input[name='monthly_income']"))?(""==$("input[name='monthly_income']").val()?FirstPageErrorHandler.addErrorIndicator($("input[name='monthly_income']"),"Missing field"):FirstPageErrorHandler.addErrorIndicator($("input[name='monthly_income']"),"Invalid data"),r=!1):$("input[name='monthly_income']").removeClass("error"),0==r&&0==e&&(e=$("input[name='monthly_income']").attr("error-scroll"))}else if("salary_mode"==a)""==t&&($('input[name="'+a+'"]').parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($('input[name="'+a+'"]'),"Missing field"),0==e&&(e=$('input[name="'+a+'"]').parents("div.panel").position().top-5));else if("title"==a)(""==t||parseInt(t)<0||parseInt(t)>2)&&($('input[name="'+a+'"]').parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($('input[name="'+a+'"]'),"Missing field"),0==e&&(e=$('input[name="'+a+'"]').parents("div.panel").position().top-5));else if("customer_name"==a){0==nameValidate($("input[name='customer_name']"))&&(r=!1,0==e&&(e=$('input[name="'+a+'"]').parents("div.panel").position().top-5))}else if("date_of_birth"==a)$(".datepick").hasClass("error")&&(r=!1),(""==$("#day_of_birth").val()||isNaN($("#day_of_birth").val()))&&($("#day_of_birth").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#year_of_birth"),"Invalid data"),r=!1),(""==$("#month_of_birth").val()||isNaN($("#month_of_birth").val()))&&($("#month_of_birth").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#year_of_birth"),"Invalid data"),r=!1),(""==$("#year_of_birth").val()||isNaN($("#year_of_birth").val()))&&($("#year_of_birth").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#year_of_birth"),"Missing field"),r=!1),0==r&&0==e&&(e=$("#year_of_birth").parents("div.panel").position().top-5);else if("mobile_number"==a){0==mobileValidate($("input[name='mobile_number']"))&&(r=!1,0==e&&(e=$('input[name="'+a+'"]').parents("div.panel").position().top-5))}else if("email"==a){0==emailValidate($("input[name='email']"))&&(r=!1,0==e&&(e=$('input[name="'+a+'"]').parents("div.panel").position().top-5))}}),0==r&&$("body,html").animate({scrollTop:parseInt(e)},100),r},quoteFullFormValidatorMobile:function(){var e=0,r=!0;if(""==document.getElementById("city_name_select_box").value?(r=!1,$("#city_name_select_box").parent().addClass("error"),$("#city_name_select_box").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#city_name_select_box"),"Missing field"),0==e&&(e=$("#city_name_select_box").parents("div.panel").position().top)):($("#city_name_select_box").parent().removeClass("error"),$("#city_name_select_box").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#city_name_select_box"))),""==document.getElementById("customer_name").value?(r=!1,$("#customer_name").parent().addClass("error"),$("#customer_name").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#customer_name"),"Missing field"),0==e&&(e=$("#customer_name").parents("div.panel").position().top)):($("#customer_name").parent().removeClass("error"),$("#customer_name").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#customer_name"))),""==document.getElementById("email").value)r=!1,$("#email").parent().addClass("error"),$("#email").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#email"),"Missing field"),0==e&&(e=$("#email").parents("div.panel").position().top);else{emailValidate($("input[name='email']"))?($("#email").parent().removeClass("error"),$("#email").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#email")),0==e&&(e=$("#email").parents("div.panel").position().top)):(r=!1,$("#email").parent().addClass("error"),$("#email").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#email"),"Invalid Data"))}if(""==document.getElementById("mobile_number").value||10!=document.getElementById("mobile_number").value.length)r=!1,$("#mobile_number").parent().addClass("error"),$("#mobile_number").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#mobile_number"),"Missing field"),0==e&&(e=$("#mobile_number").parents("div.panel").position().top);else{0==mobileValidate($("input[name='mobile_number']"))?(r=!1,$("#mobile_number").parent().addClass("error"),$("#mobile_number").addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#mobile_number"),"Invalid Data"),0==e&&(e=$("#mobile_number").parents("div.panel").position().top)):($("#mobile_number").parent().removeClass("error"),$("#mobile_number").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#mobile_number")))}return""==$("#year_of_birth").val()||""==$("#month_of_birth").val()||""==$("#day_of_birth").val()?(r=!1,$(".datepick").parent().addClass("error"),$(".datepick").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(".datepick"),"Missing field"),0==e&&(e=$(".datepick").parents("div.panel").position().top)):($(".datepick").parent().removeClass("error"),$(".datepick").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(".datepick"))),""==$(quote_element_object_second).attr("gender")?(r=!1,$(".gd").parent().addClass("error"),$(".gd").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(".gd"),"Missing field"),0==e&&(e=$(".gd").parents("div.panel").position().top)):($(".gd").parent().removeClass("error"),$(".gd").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(".gd"))),0!=e&&$("body,html").animate({scrollTop:e},100),r}},iconAction={activateIcons:function(e){iconGroupButtonAction.activeIcon($(e)),0==iconGroupButtonAction.setValue($(e),quote_element_object)&&iconGroupButtonAction.setValue($(e),quote_element_object_second),FirstPageErrorHandler.removeError($(e)),"city_name"==$(e).attr("name")?($("#state_id").parent().removeClass("error"),$("#city").parent().removeClass("error"),$("#city").attr("disabled",!0),$(".select-box").val("")):"salary_mode"==$(e).attr("name")&&($("#salary_mode_select_box").val(""),$('input[name="salary_mode"]').parent().removeClass("error")),"loan_amount"!=$(e).attr("name")||$(e).hasClass("text-setup")||$(".icon_button").removeClass("loanother")},activateSelectIcons:function(e){$(e).parent().hasClass("selected")?($(e).parent().removeClass("selected"),0==iconGroupButtonAction.removeValue($(e),quote_element_object)&&iconGroupButtonAction.removeValue($(e),quote_element_object_second)):($(e).parent().addClass("selected"),0==iconGroupButtonAction.appendValue($(e),quote_element_object)&&iconGroupButtonAction.appendValue($(e),quote_element_object_second));2==$(e).attr("page-ref")&&getSliderEligibility($(e).attr("key-value"))},textSetupAction:function(e){iconGroupButtonAction.textSetup($(e)),$(quote_element_object_second).attr($(e).attr("name"),""),"salary_mode"==$(e).attr("name")&&$('input[name="salary_mode"]').parent().removeClass("selected")},appendButtonAction:function(e){iconGroupButtonAction.appendButtonAction($(e)),$(e).parent().addClass("selected")}},mobileValidate=function(e){return"9xxxxxxxxx (10 digit number)"==$(e).val()?($(e).parent().addClass("error"),$(e).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"),0):0==formatValidatorNew("",$(e),"","","",19,"","","","","")?($(e).parent().addClass("error"),$(e).addClass("error"),""!=$(e).val()?FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data"):FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"),0):($(e).parent().removeClass("error"),$(e).removeClass("error"),0==iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object)&&iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object_second),FirstPageErrorHandler.removeErrorIndicator($(e)),1)},emailValidate=function(e){if($(e).parent().removeClass("error"),"example@example.com"==$(e).val())return $(e).parent().addClass("error"),$(e).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"),0;return 0==formatValidatorNew("",$(e),"","","",20,"","",6,31,"")?($(e).parent().addClass("error"),$(e).addClass("error"),""==$(e).val()?FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"):FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data"),0):($(e).parent().removeClass("error"),$(e).removeClass("error"),0==iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object)&&iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object_second),FirstPageErrorHandler.removeErrorIndicator($(e)),1)},submitPersonalInformation=function(){showLoader("loading","display-block");var e=!0;$.each(quote_element_object,function(e,r){$(quote_element_object_second).attr(e,r)}),$(quote_element_object_second).attr("date_of_birth",$("#year_of_birth").val()+"-"+$("#month_of_birth").val()+"-"+$("#day_of_birth").val()),$(quote_element_object_second).removeAttr("monthly_income"),getIntValueFromInr($("input[name='monthly_income']").val())>0?$(quote_element_object_second).attr("monthly_income",getIntValueFromInr($("input[name='monthly_income']").val())):$(quote_element_object_second).attr("monthly_income","0"),$(quote_element_object_second).attr("monthly_income",$('input[name="monthly_income"]').val().replace(/,/g,"")),$(quote_element_object_second).attr("step","personal_information"),"First Name"==$("#first_name").val()&&$("#first_name").val(""),"Middle Name"==$("#middle_name").val()&&$("#middle_name").val(""),"Last Name"==$("#last_name").val()&&$("#last_name").val(""),e=formValidator.quoteFullFormValidator(),$(quote_element_object_second).attr("monthly_income",$('input[name="monthly_income"]').val().replace(/,/g,"")),0==$("#ndnc").prop("checked")?($(".ndnc_text").addClass("ndnc_text_error"),FirstPageErrorHandler.addErrorIndicator($(".ndnc"),"Missing field"),e=!1):($(".ndnc_text").removeClass("ndnc_text_error"),FirstPageErrorHandler.removeErrorIndicator($(".ndnc"))),!1===$("#other_tenure").hasClass("hide")&&""==$("#other_loan_tenure").val()?($("#other_loan_tenure").parent().addClass("error"),e=!1):$("#other_loan_tenure").parent().removeClass("error"),1==e?($(document).scrollTop(1),null!=window.location.search&&""!=window.location.search&&$(quote_element_object_second).attr("queryString",window.location.search),$.post("/"+page_action_url+"/",quote_element_object_second,"","json").done(function(e){"success"==e.status?(autolistener=0,$("#main_content").hide(100,function(){$("#main_content").html(e.html),$("#main_content").show(100),showLoader("loading","display-none"),$("body,html").animate({scrollTop:$("#wrapper").children(".top").css("height")},100)})):null!=e.redirect_url?window.location=e.redirect_url:"email_error"==e.status&&(scroll=$('input[name="email"]').parents("div.panel").position().top-5,$("body,html").animate({scrollTop:parseInt(scroll)},800),$("#email").addClass("error"),$("#email_error_indicator").removeClass("hide"),$("#email_error_message").html(e.error_message),showLoader("loading","display-none"))})):showLoader("loading","display-none")},submitPersonalInformationMobile=function(){showLoader("loading","display-block");var e=!0;$.each(quote_element_object,function(e,r){$(quote_element_object_second).attr(e,r)}),$(quote_element_object_second).attr("date_of_birth",$("#year_of_birth").val()+"-"+$("#month_of_birth").val()+"-"+$("#day_of_birth").val()),$(quote_element_object_second).attr("city_id",$("#city_name_select_box").val()),$(quote_element_object_second).attr("city_name",$("#city_name_select_box").val()),$(quote_element_object_second).attr("employment_type_id","1"),$(quote_element_object_second).attr("title",$(".selected").find(".gd").attr("key-value")),$(quote_element_object_second).attr("gender",$(".selected").find(".gd").attr("key-value")),$(quote_element_object_second).removeAttr("monthly_income"),getIntValueFromInr($("input[name='monthly_income']").val())>0?$(quote_element_object_second).attr("monthly_income",getIntValueFromInr($("input[name='monthly_income']").val())):$(quote_element_object_second).attr("monthly_income","0"),$(quote_element_object_second).attr("monthly_income",$('input[name="monthly_income"]').val().replace(/,/g,"")),$(quote_element_object_second).attr("step","personal_information"),e=formValidator.quoteFullFormValidatorMobile(),0==$("#ndnc").prop("checked")?($(".ndnc_text").addClass("ndnc_text_error"),FirstPageErrorHandler.addErrorIndicator($(".ndnc"),"Missing field"),e=!1):($(".ndnc_text").removeClass("ndnc_text_error"),FirstPageErrorHandler.removeErrorIndicator($(".ndnc"))),1==e?$.post("/"+page_action_url+"/",quote_element_object_second,"","json").done(function(e){"success"==e.status?$("#main_content").hide(1e3,function(){$("#main_content").html(e.html),$("#main_content").show(1500),showLoader("loading","display-none"),$("body,html").animate({scrollTop:$("#wrapper").children(".top").css("height")},100)}):null!=e.redirect_url?window.location=e.redirect_url:"email_error"==e.status&&(scroll=$('input[name="email"]').parents("div.panel").position().top-5,$("body,html").animate({scrollTop:parseInt(scroll)},800),$("#email").addClass("error"),$("#email_error_indicator").removeClass("hide"),$("#email_error_message").html(e.error_message),showLoader("loading","display-none"))}):showLoader("loading","display-none")},rupeeValidate=function(e){var r=1;$(e).val().length>1?0==(r=formatValidatorNew("",$(e),"","","",8,"","",2,12,""))?(formError.add($(e)),r=0):($(e).removeClass("error"),0==iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object)&&iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object_second),r=1):r=0;return r},$(document).on("click",".button_otp",function(){if(showLoader("loading","display-block"),$("#otp_validator").attr("class",""),$("#otp_validator").html(""),$(".otp").css(""),""!=$(".otp").val()&&4==$(".otp").val().length&&$(".otp").val()>0){var e=$("#ValidateMobileCode").serialize();$.ajax({type:"POST",url:"/"+page_action_url+"/",data:e+"&step=validate_otp_code",dataType:"json",success:function(e){"success"==e.status?($("#main_content").html(e.html),getSliderForAmountAndTenure(),$("body,html").animate({scrollTop:$("#wrapper").children(".top").css("height")},100)):null!=e.redirect_url?window.location=e.redirect_url:"error"==e.status&&($("#otp_validator").attr("class",""),$("#otp_validator").attr("class","setp_box_active"),$("#otp_validator").html(e.error_message),$(".otp").css("border","solid 1px red")),showLoader("loading","display-none")}})}else""==$(".otp").val()?($("#otp_validator").attr("class",""),$("#otp_validator").attr("class","setp_box_active_error"),$("#otp_validator").html("Please enter OTP code.")):($("#otp_validator").attr("class",""),$("#otp_validator").attr("class","setp_box_active"),$("#otp_validator").html("OTP code is incorrect. Please enter correct OTP or click on resend")),$(".otp").css("border","solid 1px red"),showLoader("loading","display-none")}),$(document).on("click",".new_mobile",function(){$("#change_mobile").html('<form class=\'resendCode\' id=\'resendCode\'><span class="entrmobile">New Mobile No:&nbsp;</span><input type="text" autocomplete="off" id="mobile_change" class="resend otp_textbox_resend" maxlength="10" name="mobile_change">&nbsp;<input type="button" class="change_btn resend_otp_code" value="Go">&nbsp;<input type="button" class="change_btn cancel_code" value="Cancel"></form>')}),$(document).on("click",".cancel_code",function(){$("#change_mobile").html('<input type="button" value="Change Mobile Number" class="change_btn new_mobile">')}),$(document).on("click",".otp_resend",function(){showLoader("loading","display-block"),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"&step=resend_code",dataType:"json",success:function(e){"success"==e.status?($("#resend_validator").attr("class",""),$("#resend_validator").attr("class","setp_box_active_success"),$("#resend_validator").html(e.error_message)):"error"==e.status&&($("#resend_validator").attr("class",""),$("#resend_validator").attr("class","setp_box_active"),$("#resend_validator").html(e.error_message)),showLoader("loading","display-none")}})}),$(document).on("click",".resend_otp_code",function(){if($("#mobile_change").css("border","solid 1px #d5d5d5"),showLoader("loading","display-block"),""!=$(".resend").val()&&10==$(".resend").val().length&&$(".resend").val()>0){var e=$("#resendCode").serialize();$.ajax({type:"POST",url:"/"+page_action_url+"/",data:e+"&step=resend_code",dataType:"json",success:function(e){"success"==e.status?($("#main_content").html(e.html),getSliderForAmountAndTenure(),setTimeout(function(){$("#resend_validator").html("<span>SMS has been sent. Please verify with OTP code</span>"),$("#resend_validator").attr("class","setp_box_active_success")},1e3)):null!=e.redirect_url?window.location=e.redirect_url:"error"==e.status&&($("#resend_validator").attr("class",""),$("#resend_validator").attr("class","setp_box_active_error"),$("#resend_validator").html(e.error_message),$(".resend").css("border","solid 1px red")),showLoader("loading","display-none")}})}else setTimeout(function(){$("#mobile_change").css("border","solid 1px red"),showLoader("loading","display-none")},500)}),$(document).on("click",".back",function(){showLoader("loading","display-block");var e=$(this).attr("field-value");$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"step=backscreen&screen_show="+e+"&debit_card_type_id="+quote_element_object.loan_type+"&loan_type="+quote_element_object.loan_type,dataType:"json",async:!1,success:function(e){"success"==e.status?(autolistener=0,$("#main_content").hide("1000",function(){$("#main_content").html(e.html),$("#main_content").show("2000"),showLoader("loading","display-none"),getSliderForAmountAndTenure()})):"error"==e.status&&($("#err-msg").html(e.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}})}),loanAmountValidator=function(e){if(""==$(e).val())return $("#loan_amount_error_message").text("Misssing field"),$("#loan_amount_error_indicator").removeClass("hide"),$(e).parent().addClass("error"),!1;var r=formatValidatorNew("",$(e),"","","",8,"","","",11,"");return 0==r?($(e).parent().addClass("error"),$("#loan_amount_error_message").text("Invalid data"),$("#loan_amount_error_indicator").removeClass("hide")):($(e).parent().removeClass("error"),$("#loan_amount_error_message").text(""),$("#loan_amount_error_indicator").addClass("hide")),r},submitPostQuote=function(){if(showLoader("loading","display-block"),1==validateSubmitPostData()){if($("#my_card_my_number").length&&(!parseInt($(quote_card_number).attr("is_available"))||!parseInt($(quote_card_number).attr("is_blocked"))))return formError.add($("#my_card_my_number")),void showLoader("loading","display-none");var e=$("#post_quote_personal_loan_form").serialize();e+="&step=post_application",$.post("/"+page_action_url+"/",e,"","json").done(function(e){"success"==e.status?(autolistener=0,$("#main_content").hide(1e3,function(){$("#main_content").html(e.html),$("#main_content").show(1500),showLoader("loading","display-none"),$("body,html").animate({scrollTop:$("#wrapper").children(".top").css("height")},100)})):null!=e.redirect_url&&(window.location=e.redirect_url)})}else setTimeout(function(){showLoader("loading","display-none")},500)},validateSubmitPostData=function(){var e=!0;return $("#post_quote_personal_loan_form input, #post_quote_personal_loan_form select").each(function(){if(!$(this).hasClass("notnull")||""!=$(this).val()&&"0"!=$(this).val())if($(this).hasClass("required")){if(""!=$(this).val()?formError.remove($(this)):(formError.add($(this)),e=!1),"pan_number"==$(this).attr("name")&&""!=$(this).val())0==panValidator($(this))&&(formError.add($(this)),e=!1);if($(this).hasClass("pincode"))0==pincodeValidator($(this))&&(formError.add($(this)),e=!1)}else if($(this).hasClass("alpha")){0==alphaValidator($(this))&&(e=!1)}else if($(this).hasClass("required_address")){(""==(r=$.trim($(this).val()))||r.length<3||r.length>31||!r.match(address_pattern))&&(formError.add($(this)),e=!1)}else if($(this).hasClass("address")){var r;""!=(r=$.trim($(this).val()))&&(r.length<3||r.length>31||!r.match(address_pattern))&&(formError.add($(this)),e=!1)}else if($(this).hasClass("pincode")){0==pincodeValidator($(this))&&(formError.add($(this)),e=!1)}else if("pan_number"==$(this).attr("name")&&""!=$(this).val()){0==panValidator($(this))&&(formError.add($(this)),e=!1)}else"cibil_check"==$(this).attr("name")&&(0==$("#cibil_check").prop("checked")?($(".amex_text").addClass("amex_text_error"),FirstPageErrorHandler.addErrorIndicator($("#cibil_check")),e=!1):($(".amex_text").removeClass("amex_text_error"),FirstPageErrorHandler.removeErrorIndicator($("#cibil_check"))));else formError.addForSelect($(this)),e=!1}),$("#my_card_my_number").length&&(0!=parseInt($(quote_card_number).attr("is_available"))&&0!=parseInt($("#my_card_my_number").val())||(formError.add($("#my_card_my_number")),e=!1)),e},pincodeValidator=function(e){var r=formatValidatorNew("",$(e),"","","",5,"","",6,6,"");return 0==r?(formError.add($(e)),r=!1):(formError.remove($(e)),r=!0),r},alphaValidator=function(e){var r=formatValidatorNew("",$(e),"","","",1,"","",2,31,"");return 0==r?formError.add($(e)):formError.remove($(e)),r},genderValidator=function(e){var r=formatValidatorNew("",$(e),"","","",4,1,2,"","","");return 0==r?formError.addForSelect($(e)):formError.removeForSelect($(e)),r},formError={add:function(e){$(e).addClass("error"),$("#"+$(e).attr("id")+"_validator").addClass("validate_fail")},remove:function(e){$(e).removeClass("error"),$("#"+$(e).attr("id")+"_validator").removeClass("validate_fail")},addForSelect:function(e){$(e).parent().addClass("error"),$("#"+$(e).attr("id")+"_validator").addClass("validate_fail")},removeForSelect:function(e){$(e).parent().removeClass("error"),$("#"+$(e).attr("id")+"_validator").removeClass("validate_fail")},right:function(){}},FirstPageErrorHandler={addError:function(e,r){$(e).parent().addClass("error"),$(e).parent().removeClass("selected"),FirstPageErrorHandler.addErrorIndicator($(e),r)},removeError:function(e){$(e).parent().removeClass("error"),$(e).parent().addClass("selected"),FirstPageErrorHandler.removeErrorIndicator($(e))},addErrorIndicator:function(e,r){$("#"+$(e).attr("name")+"_error_indicator").removeClass("hide"),$("#"+$(e).attr("name")+"_error_message").text(r)},removeErrorIndicator:function(e){$("#"+$(e).attr("name")+"_error_indicator").addClass("hide"),$("#"+$(e).attr("name")+"_error_message").text("")}},jQueryAutoComplete=function(e,r){$(e).autocomplete({source:r,delay:0,open:function(){$(".ui-menu").width(250)}})},$(document).on("click",".accordian-li",function(){var e=$(this),r=$(e).attr("sort-attr"),a=$(e).attr("sort-type"),t=$(this).find("span");if(null!=r){showLoader("loading","display-block");var o=$(e).attr("field-value");return data="step=backscreen&screen_show="+o+"&type="+a+"&indexType="+r+"&debit_card_type_id="+quote_element_object.loan_type+"&loan_type="+quote_element_object.loan_type,$.ajax({type:"POST",url:"/"+page_action_url+"/",data:data,dataType:"json",success:function(r){"success"==r.status?($("#main_content").html(r.html),setTimeout(function(){"asc"==a?($(e).attr("sort-type","desc"),$(t).addClass("sort_asc_active")):($(e).attr("sort-type","asc"),$(t).addClass("sort_desc_active")),showLoader("loading","display-none")},100)):"error"==r.status&&($("#err-msg").html(r.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}}),!1}});var currentRequest=null;function getSliderForAmountAndTenure(){$("#slider").slider({value:parseFloat($("#slider").attr("value")),min:parseFloat($("#slider").attr("min")),max:parseFloat($("#slider").attr("max")),step:parseFloat($("#slider").attr("step")),range:"min",slide:function(e,r){$("#amount").text(r.value)},stop:function(e,r){getSliderEligibility()}}),$("#amount").text($("#slider").slider("value")),$("#slider_loan_duration").slider({value:parseFloat($("#slider_loan_duration").attr("value")),min:parseFloat($("#slider_loan_duration").attr("min")),max:parseFloat($("#slider_loan_duration").attr("max")),step:parseFloat($("#slider_loan_duration").attr("step")),range:"min",slide:function(e,r){$("#loan_duration").text(r.value/1)},stop:function(e,r){getSliderEligibility()}}),$("#loan_duration").text($("#slider_loan_duration").slider("value")/1),$(this).scrollTop()>167?$("#div_loan_slider").addClass("fixed"):$("#div_loan_slider").removeClass("fixed"),$(this).scrollTop()>167?$("#heading-container").addClass("fixed-container_sa"):$("#heading-container").removeClass("fixed-container_sa")}function applyRedirectionBank(e,r,a,t){showLoader("loading","display-block"),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"step=bankapply&applybankId="+e+"&debit_card_id="+r+"&redirection=1&is_partner"+t,dataType:"json",async:!1,success:function(e){"success"==e.status?(showLoader("loading","display-none"),0==t&&(showOverlay("overlay_message","display-block"),$(".overlayClass").html(e.error_message)),digitalData.page.selectedPlan=r,window.open(a,"_blank")):"error"==e.status&&($("#err-msg").html(e.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}})}function validateFullName(e){return e.keyCode>64&&e.keyCode<91||e.keyCode>96&&e.keyCode<123||8==e.keyCode||32==e.keyCode}function validate_step1(e){$(".help-block").removeClass("form-error").html("").parents("div .form-group").removeClass("has-error"),$(".error").removeClass("error");var r,a=$("#city").val(),t=($(bureau_check_journey).attr("bureau_check_journey_status"),$("select#gender option:selected").val());(isNaN(t)||t<=0)&&(t=1);r=$(".monthly_income").val();var o="";$(".name").length>0&&(o=(o=(o=$(".name").val()).replace(/^\s+|\s+$/g,"")).replace(/\s\s+/g," "));var n=!1;o.split(" ").length<2&&(n=!0);var s=$("#mobile_number").val(),i=formatValidatorNew("",$("#mobile_number"),"","","",19,"","","","",""),l=!0;1==e?(""==a&&($("#city").addClass("error"),$(".current_city_error_indicator").addClass("form-error"),$(".current_city_error_indicator").parents(".form-group").addClass("has-error"),$(".current_city_error_indicator").html($("#city").attr("data-validation-error-msg")),l=!1),""!=r&&0!=r||($(".monthly_income").addClass("error"),$(".income_error_indicator").addClass("form-error"),$(".income_error_indicator").parents(".form-group").addClass("has-error"),$(".income_error_indicator").html("Please enter amount"),l=!1),(""==o||n)&&($(".name").addClass("error"),$(".full_name_error_indicator").addClass("form-error"),$(".full_name_error_indicator").parents(".form-group").addClass("has-error"),$(".full_name_error_indicator").html($(".name").attr("data-validation-error-msg")),l=!1),""!=s&&i||($("#mobile_number").addClass("error"),$(".mobile_error_indicator").addClass("form-error"),$(".mobile_error_indicator").parents(".form-group").addClass("has-error"),$(".mobile_error_indicator").html($("#mobile_number").attr("data-validation-error-msg")),l=!1),$("#terms").is(":checked")||($("#terms").removeClass("selected").addClass("error"),$("#terms").next().addClass("ndnc_text_error"),l=!1),l&&quote_info_submit(1)):(""==a&&(l=!1),""!=r&&0!=r||(l=!1),""==o&&(l=!1),/^[a-zA-Z]*$/g.test(o)||(l=!1),""!=s&&i||(l=!1),$("#terms").is(":checked")||(l=!1))}function validate_step2(e){showLoader("loading","display-none");$(bureau_check_journey).attr("bureau_check_journey_status");var r=$("#employment_type_id").val(),a=$("#company_name").val(),t=$("#professional_employment_type_sub_id").val(),o=$("#business_employment_type_sub_id").val(),n=$("#salary_mode").val(),s=$("#pincode").val();if($("#pan_number").length>0)$("#pan_number").val(),$("#address_line1").val(),$("#address_line2").val();var i="";$("#complete_name").length>0&&(i=(i=(i=$("#complete_name").val()).replace(/^\s+|\s+$/g,"")).replace(/\s\s+/g," "));var l=!0;1==e?(1==r&&""==a&&($("#company_name").addClass("error"),$(".company_name_error_indicator").addClass("form-error"),$(".company_name_error_indicator").parents(".form-group").addClass("has-error"),$(".company_name_error_indicator").html($("#company_name").attr("data-validation-error-msg")),l=!1),2==r&&""==t&&($("#professional_employment_type_sub_id").addClass("error"),$(".professional_employment_error_indicator").addClass("form-error"),$(".professional_employment_error_indicator").parents(".form-group").addClass("has-error"),$(".professional_employment_error_indicator").html($("#professional_employment_type_sub_id").attr("data-validation-error-msg")),l=!1),3==r&&""==o&&($("#business_employment_type_sub_id").addClass("error"),$(".business_employment_type_sub_id_error_indicator").addClass("form-error"),$(".business_employment_type_sub_id_error_indicator").parents(".form-group").addClass("has-error"),$(".business_employment_type_sub_id_error_indicator").html($("#business_employment_type_sub_id").attr("data-validation-error-msg")),l=!1),""==n&&($("#salary_mode").addClass("error"),$(".salary_mode_error_indicator").addClass("form-error"),$(".salary_mode_error_indicator").parents(".form-group").addClass("has-error"),$(".salary_mode_error_indicator").html($("#salary_mode").attr("data-validation-error-msg")),l=!1),""==s?($("#pincode").addClass("error"),$(".pincode_error_indicator").addClass("form-error"),$(".pincode_error_indicator").parents(".form-group").addClass("has-error"),$(".pincode_error_indicator").html($("#pincode").attr("data-validation-error-msg")),l=!1):pin_code_range.length>1&&(s>=pin_code_range[0]&&s<=pin_code_range[1]||($("#pincode").addClass("error"),$(".pincode_error_indicator").addClass("form-error"),$(".pincode_error_indicator").parents(".form-group").addClass("has-error"),$(".pincode_error_indicator").html($("#pincode").attr("data-validation-error-msg")),l=!1)),""==i&&($(".name").addClass("error"),$(".full_name_error_indicator").addClass("form-error"),$(".full_name_error_indicator").parents(".form-group").addClass("has-error"),$(".full_name_error_indicator").html($(".name").attr("data-validation-error-msg")),l=!1),l&&quote_info_submit(2)):(1==r&&""==a&&(l=!1),2==r&&""==t&&(l=!1),3==r&&""==o&&(l=!1),""==n&&(l=!1),""==s&&(l=!1),""==i&&(l=!1))}AutoListenerSave=function(e,r){var a=new Object;autolistener>0&&($("#post_quote_personal_loan_form input, #post_quote_personal_loan_form select").each(function(){switch($(this).attr("name")){case"first_name":1==formatValidatorNew("",$(this),"","","",1,"","",2,31,"")&&$(a).attr("first_name",$(this).val());break;case"middle_name":1==formatValidatorNew("",$(this),"","","",1,"","",2,31,"")&&$(a).attr("middle_name",$(this).val());break;case"last_name":1==formatValidatorNew("",$(this),"","","",1,"","",2,31,"")&&$(a).attr("last_name",$(this).val());break;case"gender":1==formatValidatorNew("",$(object),"","","",4,1,2,"","","")&&"0"!=$(this).val()&&$(a).attr("gender",$(this).val());break;case"address_line1":""!=(e=jQuery.trim($(this).val()))&&e.length>4&&e.length<32&&e.match(address_pattern)&&$(a).attr("address_line1",e);break;case"address_line2":var e;""!=(e=jQuery.trim($(this).val()))&&e.length>4&&e.length<32&&e.match(address_pattern)&&$(a).attr("address_line2",e);break;case"pincode":1==formatValidatorNew("",$(this),"","","",5,"","",6,6,"")&&$(a).attr("pincode",$(this).val());break;case"industry":""!=$(this).val()&&"0"!=$(this).val()&&$(a).attr("industry",$(this).val());break;case"office_address_1":""!=(r=jQuery.trim($(this).val()))&&r.length>4&&r.length<32&&r.match(address_pattern)&&$(a).attr("office_address_1",r);break;case"office_address_2":var r;""!=(r=jQuery.trim($(this).val()))&&r.length>4&&r.length<32&&r.match(address_pattern)&&$(a).attr("office_address_2",r);break;case"office_pincode":1==formatValidatorNew("",$(this),"","","",5,"","",6,6,"")&&$(a).attr("office_pincode",$(this).val());break;case"pan_number":var t=$(this).val();""!=$(this).val()&&10==t.length&&isPAN(t)&&$(a).attr("pan_number",$(this).val());break;case"state":""!=$(this).val()&&0!=$(this).val()&&$(a).attr("state",$(this).val());break;case"employer_city":""!=$(this).val()&&0!=$(this).val()&&$(a).attr("employer_city",$(this).val());break;case"my_card_my_number":""!=$(this).val()&&0!=$(this).val()&&formatValidatorNew("",$(this),"","","",5,"","","",15,"")&&$(a).attr("my_card_my_number",$(this).val())}}),$(a).attr("step","auto_listener"),$(a).attr("save_form_Data",r),currentRequest=jQuery.ajax({type:"POST",data:a,dataType:"json",url:"/"+page_action_url+"/",beforeSend:function(){null!=currentRequest&&1==e&&currentRequest.abort()},success:function(r){"success"==r.status&&1==e&&(a=new Object,setTimeout(function(){AutoListenerSave(1,0)},2e4))}}))},firstNameValidate=function(e){if(""==$(e).val())return $(e).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"),0;0==formatValidatorNew("",$(e),"","","",1,"","",2,31,"")?($(e).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data")):($("#first_name").removeClass("error"),$("#last_name").hasClass("error")||FirstPageErrorHandler.removeErrorIndicator($(e)),""!=$("#last_name").val()&&($("#last_name").removeClass("error"),getCustomerName()))},lastNameValidate=function(e){if(""==$(e).val())return $(e).addClass("error"),""==$("#first_name").val()&&$("#first_name").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"),$(quote_element_object_second).attr("customer_name",""),0;var r=1;1==formatValidatorNew("",$(e),"","","",1,"","",2,31,"")?$(e).removeClass("error"):(r=0,$(e).addClass("error")),0==formatValidatorNew("",$("#first_name"),"","","",1,"","",2,31,"")?(r=0,$("#first_name").addClass("error")):$("#first_name").removeClass("error"),1==r?(getCustomerName(),FirstPageErrorHandler.removeErrorIndicator($(e))):($(quote_element_object_second).attr("customer_name",""),""!=$("#first_name").val()?FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data"):FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"))},getCustomerName=function(){$customer_name=$("#first_name").val(),""!=$("#first_name").val()&&($customer_name+=$("#middle_name").val()),$customer_name+=$("#last_name").val(),$(quote_element_object_second).attr("customer_name",$customer_name)},nameValidate=function(e){var r=1;""==$("#first_name").val()?($("#first_name").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"),r=0):1==formatValidatorNew("",$("#first_name"),"","","",1,"","",2,31,"")?($("#first_name").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($("#first_name"))):($("#first_name").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data"),r=0);""==$("#last_name").val()?($("#last_name").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"),r=0):1==formatValidatorNew("",$("#last_name"),"","","",2,"","",2,31,"")?($("#last_name").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(e))):($("#last_name").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data"),r=0);""!=$("#middle_name").val()&&(1==formatValidatorNew("",$("#last_name"),"","","",2,"","",2,31,"")?($("#middle_name").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(e))):($("#middle_name").addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data"),r=0));if(0==r)$(quote_element_object_second).attr("customer_name",""),""!=$(e).val()?FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data"):FirstPageErrorHandler.addErrorIndicator($(e),"Missing data");else{var a=$("#first_name").val();""!=$("#middle_name").val()&&(a+=" "+$("#middle_name").val()),a+=" "+$("#last_name").val(),$(quote_element_object_second).attr("customer_name",a)}return r};var allvalidate=function(e){var r="",a="",t=!1;$.each($("[data-validation]"),function(o,n){if(t=!1,r=$(n).attr("name"),"radio"==(a=$(n).attr("type"))||"checkbox"==a)t=!$("input[name='"+r+"']").is(":checked");else if($(n).attr("name")==$(e).attr("name"))t=!1;else if("full_name"==$(n).attr("name")){var s=$(".name").val();""!=$(this).attr("placeholder")&&$(this).val()==$(this).attr("placeholder")?t=!0:(s=(s=s.replace(/^\s+|\s+$/g,"")).replace(/\s\s+/g," "),$(this).val(s),""==s&&(t=!0))}else if("mobile_number"==$(n).attr("name")){formatValidatorNew("",$(this),"","","",19,"","",10,10,"")||(t=!0)}else if("email"==$(n).attr("name")){var i=formatValidatorNew("",$(this),"","","",20,"","","","","");""!=$(this).attr("placeholder")&&$(this).val()==$(this).attr("placeholder")?t=!0:i||(t=!0)}else t=""==$(n).val()||"0"==$(n).val();if("text"==a&&""!=$(this).attr("placeholder")&&$(this).val()==$(this).attr("placeholder")&&(t=!0),t&&(null==$("[name="+r+"]").parent("div").next(".help-block").attr("class")?($("span[class*='error_indicator']",$("[name="+r+"]").parents(".form-group")).addClass("form-error").html($(this).attr("data-validation-error-msg")).parents(".form-group").addClass("has-error"),$("[name="+r+"]").addClass("error").next(".help-block").addClass("form-error").html($(this).attr("data-validation-error-msg")).parents(".form-group").addClass("has-error")):($("[name="+r+"]").addClass("error").parent("div").next(".help-block").addClass("form-error").html($(this).attr("data-validation-error-msg")).parents(".form-group").addClass("has-error"),$("[name="+r+"]").addClass("error").parent("div").parent("div").next(".help-block").addClass("form-error").html($(this).attr("data-validation-error-msg")).parents(".form-group").addClass("has-error"))),$(n).attr("name")==$(e).attr("name"))return!1})};function quote_info_submit(e){showLoader("loading","display-block");var r=$("#personal_information_new").serialize(),a=($("#city").val(),a=$(".name").val()),t=a.split(" "),o=t.length,n="",s="",i="",l=$("#employment_type_id").val(),d=unformatMoney($(".monthly_income").val()),c="",m=$("select#gender option:selected").val();(isNaN(m)||m<=0)&&(m=1);var _=$('input[name="mob_aadhaar_linked"]:checked').val();$("input[name='past-loan']:checked").val(),$("#pan_number").val(),$("#address_line1").val(),$("#address_line2").val();if(o>=2&&(n=t[0],s=t[o-1],o>2))for(var u=1;u<o-1;u++)i+=t[u];2==l?(c=$("#professional_employment_type_sub_id").val(),d=unformatMoney($(".annual_income").val())):3==l&&(c=$("#business_employment_type_sub_id").val(),d=unformatMoney($(".annual_income").val())),r=r+"&first_name="+n+"&middle_name="+i+"&last_name="+s+"&date_of_birth="+($("#year_of_birth").val()+"/"+$("#month_of_birth").val()+"/"+$("#day_of_birth").val())+"&employment_type_sub_id="+c+"&monthly_income="+d+"&customer_name="+a+"&title="+m+"&mob_aadhaar_linked="+_;var p=$(bureau_check_journey).attr("bureau_check_qa");r=r+"&bureau_check_qa="+p;var h=$(bureau_check_journey).attr("skip_bureau_check_qa");r=(r=(r=r+"&skip_bureau_check_qa="+h)+"&skip_bureau_hit="+$(bureau_check_journey).attr("skip_bureau_hit"))+"&highmark_status="+$(bureau_check_journey).attr("highmark_status");if(p&&"2"!=h){if(!submitAnswers())return showLoader("loading","display-none"),!1;r=(r=r+"&a1_list="+$(question_answer).attr("a1_list"))+"&a2_list="+$(question_answer).attr("a2_list")}$.ajax({type:"POST",url:"/"+action,data:r+"&step=personal_information&form_no="+e,dataType:"json",success:function(e){if(console.log(e),"success"==e.status)window.location=e.redirect_url;else if("experian_question"==e.status)$(bureau_check_journey).attr("bureau_check_qa",!0),$("#view-offers-div").html(e.html),$("#step-2-fields").hide(),$(".checkbox2 ").hide(),$("#personal_information_new .form-container").css("max-height",$("#step-2 .container")),showLoader("loading","display-none");else if("highmark_iframe"==e.status)$("#step-2-fields").hide(),$(".checkbox2 ").hide(),highmark_flag=!0,$("#view-offers-div").html('<iframe id="highmark_iframe" class="highmark-iframe" src="highmark_iframe.html"></iframe>'),$("#skip-bureau-question").removeClass("display-none"),$("#skip-bureau-question").addClass("display-block"),$("#highmark_iframe").contents().find("body").html(e.html),$($("#highmark_iframe").contents().find("#nonseamless")).submit(),checkBureauStatus=!0,1==checkBureauStatus&&1==highmark_flag&&setInterval(function(){viewBureauStatus(1)},3e3),$("#personal_information_new .form-container").css("max-height",$("#step-2 .container")),showLoader("loading","display-none");else if("bureau_success"==e.status);else if(null!=e.redirect_url)window.parent.location=e.redirect_url;else if("email_error"==e.status)$("#email").addClass("error"),$(".email_error_indicator").addClass("form-error"),$(".email_error_indicator").parents(".form-group").addClass("has-error"),$(".email_error_indicator").html(e.error_message),showLoader("loading","display-none");else if("error"==e.status)return $("#msg_span").html(e.message).parent(".form-group").addClass("has-error error-bq"),showLoader("loading","display-none"),!1}})}function dateRange(){$("#appointment_date").datepicker({minDate:1,maxDate:4,dateFormat:"dd-mm-yy",showAnim:"fadeIn",gotoCurrent:!0,hideIfNoPrevNext:!0})}function getCityPincodes(e,r){$("#pincode")&&r>0&&$("#pincode").val(""),""!=e&&e>0&&$.ajax({type:"POST",url:"/common-request",data:"step=pincode&city_id="+e,dataType:"json",success:function(e){"success"==e.status?pin_code_array=e.html:"error"==e.status&&(pin_code_array=""),""!=e.pincode_range&&(pin_code_range=e.pincode_range)}})}