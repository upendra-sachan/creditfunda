var address_pattern=/^\d*[a-zA-Z0-9#][a-zA-Z0-9\.,#\-\/\(\) ]*$/,autolistener=0,office_pin_code=new Array,bureauCustomer="NO_HIT",pin_code_array=new Array,global_month_name=[{0:"Month"},{1:"Jan"},{2:"Feb"},{3:"Mar"},{4:"Apr"},{5:"May"},{6:"Jun"},{7:"Jul"},{8:"Aug"},{9:"Sept"},{10:"Oct"},{11:"Nov"},{12:"Dec"}],utmtitle=getUrlVars().utm_title;function getUrlVars(){for(var e,t=[],r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<r.length;a++)e=r[a].split("="),t.push(e[0]),t[e[0]]=e[1];return t}function mobilehelp(){$("[data-toggle='tooltip']").each(function(){var e=$(this).parents(".form-group").find("input"),t=$(this).attr("data-original-title");$(e).popover({content:"Loading",trigger:"focus",placement:"bottom"}),setTimeout(function(){$(e).attr("data-content",t);$(e).data("popover")},500)})}function checkInterestRate(e,t){var r=e.which?e.which:e.keyCode;return(!(-1!=t.value.indexOf("."))||46!=r)&&!(r>31&&(r<48||r>57)&&46!=r)}function enableDisableMonth(e){if(e>0){$("#outstanding_loan_month").removeAttr("disabled"),$(quote_element_object).attr("outstanding_loan_month","");var t=$("#outstanding_loan_year option:selected").text(),r=new Date,a=r.getMonth();t==r.getFullYear()?($("#outstanding_loan_month").empty(),$(global_month_name).each(function(e,t){e<=a&&$("#outstanding_loan_month").append($("<option>").attr("value",e).text(t[e]))})):($("#outstanding_loan_month").empty(),$(global_month_name).each(function(e,t){$("#outstanding_loan_month").append($("<option>").attr("value",e).text(t[e]))}))}else $("#outstanding_loan_month").val("0"),$("#outstanding_loan_month").removeClass("error"),$("#outstanding_loan_month").attr("disabled",!0)}function getSliderEligibility(e){showLoader("loading","display-block");var t="selectEligibility="+$("#amount").text()+"&selectTenure="+$("#loan_duration").text(),r="/"+e;$.ajax({type:"POST",url:r,data:t+"&step=sliderrequest",dataType:"json",success:function(e){autolistener=0,"success"==e.status?($("#main_content").html(e.html),getSliderForAmountAndTenure(),showLoader("loading","display-none")):"error"==e.status&&($("#err-msg").html(e.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}})}function applyBank(e,t,r){showLoader("loading","display-block"),0==r&&$(".overlayClass").html("");var a=e,o="/"+t;$.ajax({type:"POST",url:o,data:"step=bankapply&applybankId="+a,dataType:"json",success:function(e){if(null!=e.pb_tracking_data){var t=e.pb_tracking_data.pb_tracker_no_of_banks,a=e.pb_tracking_data.pb_tracker_loan_amount,o=e.pb_tracking_data.pb_tracker_loan_tenure,n=e.pb_tracking_data.pb_tracker_selected_bank,l=customer_ID;_pb_tracker.trackEvent(["clevertab"],"HLBT_Completed_Quotes",{Tenure:"'"+o+"'","Loan Amount":"'"+a+"'","No of Quotes":"'"+t+"'","Selected Bank":"'"+n+"'","Customer ID":"'"+l+"'"})}"success"==e.status?0==r?(showLoader("loading","display-none"),showOverlay("overlay_message","display-block"),$(".overlayClass").html(e.error_message)):(autolistener=1,AutoListenerSave(1,0),$("#main_content").hide("1000",function(){$("#main_content").html(e.html),$("#main_content").show("2000"),showLoader("loading","display-none"),$("body,html").animate({scrollTop:125},800),$(e.additional_data_value).each(function(e,t){0==e?pin_code_array=t:office_pin_code=t})})):null!=e.redirect_url?(-1!=e.redirect_url.indexOf("?")&&(e.redirect_url+="&rand="+Math.random()),window.parent.location=e.redirect_url):"error"==e.status&&($("#err-msg").html(e.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}})}function modifyBankSelectionEvent(e){$("#proceedBanksErrorMsg").text(""),$(".newJrny").find("li.last-child").removeClass("--error");var t=$("."+e+"_checkbox");t.prop("checked",!t.prop("checked"))}function proceedBanks(){var e=$(".64_checkbox").is(":checked"),t=$(".210_checkbox").is(":checked"),r=$(".65_checkbox").is(":checked"),a=$(".320_checkbox").is(":checked"),o=1,n=1,l=1,i=1;if(!(e||t||r||a))return $(".newJrny").find("li.last-child").addClass("--error"),$("#proceedBanksErrorMsg").text("*Please select atleast one bank"),!1;showLoader("loading","display-block"),$("#proceedBanksErrorMsg").text(""),e||(o=0),t||(n=0),r||(l=0),a||(i=0),$.ajax({type:"POST",url:"/home-loan-balance-transfer/",data:"step=proceedbanks&hdfc_bank="+o+"&iifl_bank="+n+"&yes_bank="+l+"&shelter_bank="+i,dataType:"json",success:function(e){if(null!=e.pb_tracking_data){var t=e.pb_tracking_data.pb_tracker_banks,r=e.pb_tracking_data.pb_tracker_loan_amount,a=customer_ID;_pb_tracker.trackEvent(["clevertab"],"HLBT_Submitted_Quotes",{"Loan Amount":"'"+r+"'","Selected Banks":"'"+t+"'","Customer ID":"'"+a+"'"})}"success"==e.status?(showLoader("loading","display-none"),null!=e.redirect_url&&(window.parent.location=e.redirect_url)):"error"==e.status&&($("#err-msg").html(e.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"),null!=e.redirect_url&&(window.parent.location=e.redirect_url))}})}function uploadFile(){var e=null,t=!0;if($("#id_proof").attr("style",""),$("#add_proof").attr("style",""),$("#age_proof").attr("style",""),$("#income_proof").attr("style",""),""==$("#id_proof").val()&&""==$("#add_proof").val()&&""==$("#age_proof").val()&&""==$("#income_proof").val()&&($("#id_proof").css("border","solid 1px red"),$("#add_proof").css("border","solid 1px red"),$("#age_proof").css("border","solid 1px red"),$("#income_proof").css("border","solid 1px red"),t=!1),(""!=$("#id_proof").val()&&""==$("#file_id_proof").val()||""==$("#id_proof").val()&&""!=$("#file_id_proof").val())&&($("#id_proof").css("border","solid 1px red"),t=!1),(""!=$("#add_proof").val()&&""==$("#file_add_proof").val()||""==$("#add_proof").val()&&""!=$("#file_add_proof").val())&&($("#add_proof").css("border","solid 1px red"),t=!1),(""!=$("#age_proof").val()&&""==$("#file_age_proof").val()||""==$("#age_proof").val()&&""!=$("#file_age_proof").val())&&($("#age_proof").css("border","solid 1px red"),t=!1),(""!=$("#income_proof").val()&&""==$("#file_income_proof").val()||""==$("#income_proof").val()&&""!=$("#file_income_proof").val())&&($("#income_proof").css("border","solid 1px red"),t=!1),!t)return!1;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");for(var r=document.getElementById("uploaddocs"),a=new FormData(r),o=0;o<r.length;o++)""!=$("#"+r[o].id).val()&&null!=document.getElementById(r[o].id)&&0==document.getElementById(r[o].id).disabled&&$("."+r[o].id+"_loader").html('<img height="20" src="/components/images/loading.gif">');if(showLoader("loading","display-block"),$("#err-msg").addClass("display-none"),e.open("POST","/"+page_action_url+"/?&step=upload_docs",!1),e.send(a),4==e.readyState&&200==e.status){var n=jQuery.parseJSON(e.responseText);if("success"==n.status)for(o=0;o<r.length;o++){if(""!=$("#"+r[o].id).val()){var l=n.error_message;null!=document.getElementById(r[o].id)&&(1==l.error_type||2==l.error_type||3==l.error_type||(document.getElementById(r[o].id).disabled=!0)),"file_id_proof"==r[o].id&&$("."+r[o].id+"_loader").html(l.file_id_proof),"file_add_proof"==r[o].id&&$("."+r[o].id+"_loader").html(l.file_add_proof),"file_age_proof"==r[o].id&&$("."+r[o].id+"_loader").html(l.file_age_proof),"file_income_proof"==r[o].id&&$("."+r[o].id+"_loader").html(l.file_income_proof)}"success"==l.upload_type&&setTimeout(function(){$(".doc-upload").addClass(" heading_success m10b"),$(".doc-upload").html(l.success_messgae)},1e3)}else if("error"==n.status){$("#err-msg").html(n.error_message),$("#err-msg").addClass("display-block message-error");for(o=0;o<r.length;o++)""!=$("#"+r[o].id).val()&&null!=document.getElementById(r[o].id)&&0==document.getElementById(r[o].id).disabled&&$("."+r[o].id+"_loader").html("")}showLoader("loading","display-none")}}function getSliderForAmountAndTenure(){$("#slider").slider({value:parseFloat($("#slider").attr("value")),min:parseFloat($("#slider").attr("min")),max:parseFloat($("#slider").attr("max")),step:parseFloat($("#slider").attr("step")),range:"min",slide:function(e,t){$("#amount").text(t.value)},stop:function(e,t){getSliderEligibility($("#slider").attr("urlaction"))}}),$("#amount").text($("#slider").slider("value")),$("#slider_loan_duration").slider({value:parseFloat($("#slider_loan_duration").attr("value")),min:parseFloat($("#slider_loan_duration").attr("min")),max:parseFloat($("#slider_loan_duration").attr("max")),step:parseFloat($("#slider_loan_duration").attr("step")),range:"min",slide:function(e,t){$("#loan_duration").text(t.value/1)},stop:function(e,t){getSliderEligibility($("#slider_loan_duration").attr("urlaction"))}}),$("#loan_duration").text($("#slider_loan_duration").slider("value")/1)}function showTab(e,t){for(var r=Array("description2","usage2","download2"),a=0;a<r.length;a++){var o=a+1;r[a]==e?($("#"+r[a]).css("display","block"),$("ul li:nth-child("+(a+1)+")").addClass("active")):($("#"+r[a]).css("display","none"),$("ul li:nth-child("+o+")").removeClass("active"))}}function sendQuoteMail(){$("#reference_email").removeClass("error");var e;return""==$("#reference_email").val()?($("#reference_email").addClass("error"),!1):(is_email_validated=formatValidator("",$("#reference_email"),"","","",13,"","","",63,""),0==is_email_validated?($("#reference_email").addClass("error"),!1):($("#quote_msg").html('<img height="20" src="/components/images/loading.gif">'),e="step=send_quote&reference_email="+$("#reference_email").val(),void $.post("/"+page_action_url+"/",e,"","json").done(function(e){"success"==e.status?setTimeout(function(){$("#quote_msg").html('<span style="color:#fc9210; font-size:15px;">'+e.html+"</span>")},5e3):setTimeout(function(){$("#quote_msg").html('<span style="color:red; font-size:12px;">'+e.error_message+"</span>")},5e3)})))}function panValidator(e){var t=1,r=$(e).val();return pbError.remove($(e)),""!=$(e).val()&&(10==r.length&&isPAN(r)?(pbError.remove($(e)),t=1):(t=0,pbError.add($(e)))),t}function updateQueryStringParameter(e,t,r){var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(a)?e.replace(a,"$1"+t+"="+r+"$2"):e+o+t+"="+r}function removeParam(e,t){var r=t.split("?")[0],a=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var n=(a=o.split("&")).length-1;n>=0;n-=1)a[n].split("=")[0]===e&&a.splice(n,1);a.length>0&&(r=r+"?"+a.join("&"))}return r}function viewUploadFile(e){return $("#err-msg").removeClass("display-block message-error m5b"),$("#err-msg").addClass("display-none"),data="step=view_image&image="+e,$.ajax({type:"POST",url:"/"+page_action_url+"/",data:data,dataType:"json",success:function(e){"success"==e.status?($("#html-content").html(e.html),$("#fade-body").removeClass("display-none"),$("#fade-body").addClass("display-block"),$("#light-box").removeClass("display-none"),$("#light-box").addClass("display-block")):($("#html-content").html(""),$("#fade-body").removeClass("display-block"),$("#fade-body").addClass("display-none"),$("#light-box").removeClass("display-block"),$("#light-box").addClass("display-none"),$("#err-msg").html(e.error_message),$("#err-msg").removeClass("display-none"),$("#err-msg").addClass("display-block message-error m5b"),window.scrollTo(0,100))}}),!1}$(document).ready(function(){function e(){var e=$("#outstanding_balance").val(),t=$("#mobi_number").val();""!=e&&null!=e&&e<=15e5&&null!=t&&""!=t&&t>0&&formatValidatorNew("",$("#mobi_number"),"","","",19,"","","","","")&&(showLoader("loading","display-block"),$.ajax({type:"POST",url:"/home-loan-balance-transfer",data:"step=checkCustomerBureau&mobile_number="+t,dataType:"json",success:function(e){autolistener=0,0==e.status?($("#bureau_data").removeClass("hide"),bureauCustomer="FILED_MANIOULATE",showLoader("loading","display-none")):1==e.status&&(bureauCustomer="FILED_NOT_MANIOULATE",$("#bureau_data").addClass("hide"),$("#customer_name_bureau").val(""),$("#email_bureau").val(""),showLoader("loading","display-none"))}}))}if($("#hlbt_terms").change(function(){$(this).is(":checked")&&$(this).next().removeClass("ndnc_text_error")}),$(".otp_digit_1").keyup(function(e){$("#error_otp").addClass("hide");var t=e.keyCode||e.charCode;8==t||46==t?$(this).val(""):1==$(this).val().length&&($(".otp_digit_1").removeClass("otp_error").addClass("otp_type_clr"),$(".otp_digit_2").focus())}),$(".otp_digit_2").keyup(function(e){$("#error_otp").addClass("hide");var t=e.keyCode||e.charCode;8==t||46==t?($(this).val(""),$(".otp_digit_1").focus().val("")):1==$(this).val().length&&($(".otp_digit_2").removeClass("otp_error").addClass("otp_type_clr"),$(".otp_digit_3").focus())}),$(".otp_digit_3").keyup(function(e){$("#error_otp").addClass("hide");var t=e.keyCode||e.charCode;8==t||46==t?($(this).val(""),$(".otp_digit_2").focus().val("")):1==$(this).val().length&&($(".otp_digit_3").removeClass("otp_error").addClass("otp_type_clr"),$(".otp_digit_4").focus())}),$(".otp_digit_4").keyup(function(e){$("#error_otp").addClass("hide");var t=e.keyCode||e.charCode;8==t||46==t?($(this).val(""),$(".otp_digit_3").val("").focus()):$(".otp_digit_4").removeClass("otp_error").addClass("otp_type_clr")}),$(".otp_digit_4").on("keyup",function(){""!=$(".otp_digit_1").val()&&""!=$(".otp_digit_2").val()&&""!=$(".otp_digit_3").val()&&""!=$(".otp_digit_4").val()&&(verifyOTPCode(),$(this).trigger("blur"))}),$("#mobi_number").keyup(function(){10==$("#mobi_number").val().length&&formatValidatorNew("",$("#mobi_number"),"","","",19,"","","","","")&&e()}),$("#mobi_number").on("cut copy paste",function(e){e.preventDefault()}),$("#outstanding_balance").on("change",function(){var t=$("#outstanding_balance").val();(t>=15e5&&$("#bureau_data").addClass("hide"),t<15e5)&&(10==$("#mobi_number").val().length&&e())}),$(document).on("click","#get_best_quote_infomration",function(){"get_best_quote_infomration"==$(this).attr("id")&&"function"==typeof ga&&ga("paTrackerObj.send","event","HLBT_Calculator","click","Show My Savings",1)}),$(document).on("click","#claim_savings",function(){"claim_savings"==$(this).attr("id")&&"function"==typeof ga&&ga("paTrackerObj.send","event","HLBT_Calculator","click","Claim Your Savings Now",1)}),"undefined"==typeof _satellite&&(_satellite={},_satellite.track=function(e){return!0}),""!=quote_element_object_second.monthly_income&&showOptin(quote_element_object_second.monthly_income),$('input[name="monthly_income"]').change(function(){return showOptin($("input[name='monthly_income']").val())}),$("#property_approved_by").on("change",function(){$(quote_element_object).attr("property_approved_by",$(this).val())}),$("#outstanding_loan_year").on("change",function(){""!=$("select[name='outstanding_loan_year']").val()?$("#totalloantenurediv").removeClass("hide"):$("#totalloantenurediv").addClass("hide"),$("select[name='total_loan_tenure']").val("").trigger("change")}),$(document).on("change","#other_city_id",function(){showOptin()}),$(document).on("click",".step1",function(){_pb_tracker.trackEvent(["clevertab"],"HLBT_Personal_Details_Clicked",{"Customer ID":"'"+customer_ID+"'"})}),$("body,html").animate({scrollTop:85},800),getSlider(quote_element_object,quote_element_object_second),getSliderForAmountAndTenure(),"MSIE7"==version||"MSIE8"==version||"MSIE9"==version||"MSIE"==version){var t=document.activeElement;$(document).on("focus",":text",function(){""!=$(this).attr("placeholder")&&$(this).val()==$(this).attr("placeholder")&&$(this).val("").removeClass("hasPlaceholder")}),$(document).on("blur",":text",function(){""==$(this).attr("placeholder")||""!=$(this).val()&&$(this).val()!=$(this).attr("placeholder")||$(this).val($(this).attr("placeholder")).addClass("hasPlaceholder")}),$(":text").blur(),$(t).focus()}$(document).on("mouseover",".help",function(){$("."+$(this).attr("tooltip-class")).removeClass("hide");var e=$(this).position();$("."+$(this).attr("tooltip-class")).css({top:e.top-20,left:e.left+30})}),$(document).on("mouseout",".help",function(){$("."+$(this).attr("tooltip-class")).addClass("hide")}),$("a.close").on("click",function(){return $("#terms_conditions_popup").fadeOut(300,function(){$("#mask").remove()}),!1}),$(document).on("change ","#profession_type",function(e){return""!=$(this).val()?($(this).parent().removeClass("error"),$("body,html").animate({scrollTop:parseInt(position.top)+parseInt($(this).parents("div.panel").css("height"))+25},1e3)):$(this).parent().addClass("error"),!1}),$(document).on("click","#submit_personal_quote_infomration",submitPersonalQuoteInfomration),$(document).on("click","#submit_personal_quote_infomration_calculator",submitPersonalQuoteInfomrationCalculator),$(document).on("click","#post_quote_submit",submitPostQuote),$(document).on("focus",'input[type="text"]',function(){var e=Element.getPosition($(this)),t=$(this).parent().css("width"),r=$(this).parent().css("height");$(this).parent().siblings().find("span").hasClass("pointer")?$("."+$(this).attr("tooltip-class")).css({top:e.top-parseInt(r)/2-10,left:e.left+parseInt(t)+10}):(e=$(this).offset(),$("."+$(this).attr("tooltip-class")).css({top:e.top-65,left:e.left+30})),$("."+$(this).attr("tooltip-class")).removeClass("hide")}),$(document).on("blur",'input[type="text"]',function(){$("."+$(this).attr("tooltip-class")).addClass("hide")}),$(document).on("click","#get_best_quote_infomration",function(){formValidator.quoteFormCalculatorValidator($(this))}),$(document).on("click","#claim_savings",function(){formValidator.updateQuoteSavingsData($(this))}),$("select[name='outstanding_loan_amount_type']").on("change",function(){var e="";""==$(this).val()?$(this).parent().addClass("error"):($(this).parent().removeClass("error"),$(quote_element_object).attr("outstanding_loan_amount_type",$(this).val()),e=1==$(this).val()?"Outstanding balance on home loan":"Total home loan amount",$("#outstanding_balance_heading").html(e))}),$("select[name='saving_type']").on("change",function(){""==$(this).val()?$(this).parent().addClass("error"):($(this).parent().removeClass("error"),$(quote_element_object).attr("saving_type",$(this).val()))}),$(document).on("keyup",".amount",function(){$(this).attr("key-value",$(this).val()),$(this).val(rupeeFormat($(this).val()))}),$(document).on("change","select[data-validation]",function(){$(this).parents("div#step-1").length?allvalidate($(this),1):allvalidate($(this),2)}),$("input[name='outstanding_balance']").on("blur",function(){1==getFieldValidate($(this))&&$("#outstanding_balance").val(NewMoneyFormatInr($("#outstanding_balance").val()))}),$(document).on("keyup","input[name='outstanding_balance']",function(e){return formatValidator(e,$(this),"","","",8,1e5,25e7,"",12,"")}),$(document).on("keypress ","input[name='monthly_income_mobile']",function(e){return formatValidatorNew(e,$(this),"","","",8,5e3,25e7,"",12,"")}),$(document).on("keypress","input[name='property_cost']",function(e){return formatValidatorNew(e,$(this),"","","",8,1e5,25e7,"",12,"")}),$("#builder_name").autocomplete({source:function(e,t){$(this);var r=$(this.element),a=r.data("jqrequest");$(this).attr("name");a&&a.abort(),r.data("jqrequest",$.ajax({url:"/home-loan-balance-transfer/",dataType:"json",async:!1,mode:"abort",data:{builder_detail:e.term,step:"search_builder"},success:function(e){t($.map(e.html,function(e){return $.map(e,function(e,t){return{label:e.builder_complete_detail,value:e.builder_project_detail,city:e.city_id}})}))}}))},minLength:3,selectFirst:!0,selectOnly:!0,open:function(){$(".ui-autocomplete").off("menufocus hover mouseover mouseenter"),$(".ui-menu").width($(this).width()+18)},select:function(e,t){return $(quote_element_object).attr("builder_name",t.item.value),$("#property_city").val(t.item.city).trigger("change"),!0}}).keydown(function(e,t,r){if(13==e.which&&setTimeout(function(){$(".ui-autocomplete").css("display","none")},500),(9==e.which||13==e.which)&&"none"!=$(".ui-autocomplete").css("display"))return!0}).blur(function(){$(this).val().length<3?pbError.add($(this)):pbError.remove($(this))}),$("select[name='outstanding_loan_month']").on("change",function(){1==startLoanDateValidate()&&$(this).hasClass("calculator"),$(this).hasClass("calculator")&&getTotalLoanTenure()}),$("select[name='outstanding_loan_year']").on("change",function(){if($(this).hasClass("calculator"))var e=new Date,t=e.getFullYear()-25,r=e.getFullYear(),a=formatValidator("",$("#outstanding_loan_year"),"","","",10,t,r,"","","");else a=startLoanDateValidate();1==a?$(quote_element_object).attr("outstanding_loan_year",$("#outstanding_loan_year").val()):0==a&&($("select[name='outstanding_loan_year']").parent().addClass("error"),$("select[name='outstanding_loan_year']").addClass("error"),$(".outstanding_loan_year_error_indicator").html($("#outstanding_loan_year").attr("data-validation-error-msg")),$(quote_element_object).attr("outstanding_loan_year",""))}),$(document).on("change","#outstanding_loan_year",function(){$(this).hasClass("calculator")||enableDisableMonth($(this).val()),$(this).hasClass("calculator")&&getTotalLoanTenure()}),$(document).on("change","#property_city",function(){var e=$("#property_city").val();$(quote_element_object).attr("city_id",e),$("#city_id").val(e)}),$("#outstanding_balance").on("blur, change",function(){var e=unformatMoney($("#outstanding_balance").val());""!=e&&e<=15e5?($("#property-approved-box").removeClass("hide"),$("#builder-div").addClass("hide"),$("#builder_name").val("")):($("#property_approved_by").val("").trigger("change"),$("#property-approved-box").addClass("hide"),$("#builder-div").removeClass("hide"))}),$("select[name='total_loan_tenure']").on("change",function(){""==$(this).val()?($("select[name='total_loan_tenure']").parent().addClass("error"),$("select[name='total_loan_tenure']").addClass("error"),$(".total_loan_tenure_error_indicator").html($("#total_loan_tenure").attr("data-validation-error-msg")),$(quote_element_object).attr("total_loan_tenure",""),$(quote_element_object).attr("outstanding_loan_tenure_year",""),$(quote_element_object).attr("outstanding_loan_tenure_month","")):($(this).removeClass("error"),$(this).parent().removeClass("error"),calulateOutstandingLoanTenureYear())}),$(document).on("blur","#existing_interest_rate",function(){validateInterestRate($(this))}),$(document).on("keyup","#existing_interest_rate",function(){$(this).val().match(/^[0-9][0-9.]*$/g)||$(this).val("")}),$("#first_name").on("blur",function(){firstNameValidate($(this))}),$(document).on("keypress",".middleName",function(e){return formatValidator(e,$(this),"","","",1,"","",2,31,"")}),$("#middle_name").on("blur",function(){middleNameValidate($(this))}),$("#last_name").on("blur",function(){lastNameValidate($(this))}),$("#customer_name").on("blur",function(){CustNameValidate($(this))}),$(document).on("keypress","input[name='customer_name']",function(e){return formatValidatorNew(e,$("#customer_name"),"","","",2,"","",2,31,"")}),$(document).on("keypress","input[name='customer_name_mobile']",function(e){return formatValidatorNew(e,$("#customer_name_mobile"),"","","",2,"","",2,31,"")}),$("input[name='email']").on("blur",function(){getFieldValidate($(this))}),$(document).on("keypress","input[name='email']",function(e){return formatValidator(e,$(this),"","","",13,"","","",63,"")}),$("input[name='mobile_number']").on("blur",function(){getFieldValidate($(this))}),$(document).on("keypress","input[name='mobile_number']",function(e){return formatValidatorNew(e,$(this),"","","",19,"","","",10,"")}),$("#slider_9").on("slidechange",function(){$("#slider_9").slider("option","value")>0&&getFieldValidate("input[name='annual_turnover']",1)}),$(document).on("keyup",".datepick",checkDateOfBirth),$(document).on("blur","#day_of_birth",function(){var e=$(this).val();$(this).val().length>0&&$(this).val().length<2?"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version&&(e=parseInt(0)+e,$(this).val(e)):"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||"dd"!=e&&(e=Number(e),$(this).val(e)),1==formValidator.dayValidate($(this))&&showOptin()}),$(document).on("blur","#month_of_birth",function(){var e=$(this).val();$(this).val().length>0&&$(this).val().length<2?"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version&&(e=parseInt(0)+e,$(this).val(e)):"Opera"!=version&&"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||"mm"!=e&&(e=Number(e),$(this).val(e)),1==formValidator.monthValidate($(this))&&showOptin()}),$(document).on("blur","#year_of_birth",function(){1==formValidator.yearValidate($(this))&&showOptin($("input[name='monthly_income']").val())}),$(document).on("keypress",".datepick",function(e){return formatValidator(e,$(this),"","","",10,"","","","","")}),$("select[name='employment_type_sub_id']").on("change",function(){$(quote_element_object_second).attr("employment_type_sub_id",$(this).val()),""!=$(this).val()&&($(this).parent().removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($('input[name="employment_type_id"]')))}),$("input[name='employment_type_id']").on("click",function(){$(this).hasClass("emp_calculator")&&("self_employed_professional"==$(this).attr("key-name")||"self_employed_business"==$(this).attr("key-name")?($(".income_duration").text("gross annual"),$(".monthly_income-tooltip").html("Enter your gross annual income"),$("#slider_5").attr("max",1e7),$("#slider_5_txt").attr("maxlength","11"),$("#head-account").text("Your bank account is with?"),$("#annual_turnover_div").removeClass("hide"),$("#employment").removeClass("hide")):($("#employment").addClass("hide"),$("#profession_type").val(""),$(quote_element_object_second).attr("employment_type_sub_id",""),$(".income_duration").text("gross monthly"),$(".monthly_income-tooltip").html("Enter your gross monthly income excluding all variable, bonus and incentives"),$("#slider_5").attr("max",2e5),$("#slider_5_txt").attr("maxlength","8"),$("#head-account").text("Your salary account is with?"),$("#annual_turnover_div").addClass("hide"),$("#slider_9_txt").val("")),"MSIE7"==version||"MSIE8"==version||"MSIE9"==version||"MSIE"==version?$("input[name='monthly_income']").val($("input[name='monthly_income']").attr("placeholder")):$("input[name='monthly_income']").val(""),$(quote_element_object_second).attr("monthly_income",""),$("#slider_5").slider({max:$("#slider_5").attr("max"),value:$("#slider_5").attr("min")}).slider("pips",{rest:"label",prefix:"Rs."}).slider("float"),iconGroupButtonAction.activeIcon($(this)),$("."+$(this).attr("key-name")+"-li").removeClass("hide"),0==iconGroupButtonAction.setValue($(this),quote_element_object)&&iconGroupButtonAction.setValue($(this),quote_element_object_second),FirstPageErrorHandler.removeErrorIndicator($(this)));"1"!=$(this).val()&&($(quote_element_object_second).attr("employment_type_sub_id",""),$("select[name='employment_type_sub_id']").val(""))}),$(document).on("change",".sel-val",function(){$(this).attr("key-value",$(this).val());var e=$(this).attr("name");""!=$(this).val()?($("input[name='"+e+"']").parent().removeClass("error"),$("select[name='"+e+"']").parent().removeClass("error")):$("select[name='"+e+"']").parent().addClass("error");var t=$(quote_element_object).attr($(this).attr("name"));void 0!==t&&!1!==t?$(quote_element_object).attr(e,$(this).val()):$(quote_element_object_second).attr(e,$(this).val())}),$("#property_city, #city_id").on("select2:open",function(e){$(".select2-search input").prop("focus",!1)}),$("#property_city_with_select_box").on("blur",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#property_city_with_select_box"),"Missing field")):($("#property_city_with_select_box").parent().removeClass("error"),$("#property_city_with_select_box").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(this)))}),$("#property_city_with_select_box").on("change",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#property_city_with_select_box"),"Missing field")):($("#property_city_with_select_box").parent().removeClass("error"),$("#property_city_with_select_box").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(this)))}),$("#property_cost").on("blur",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#property_cost"),"Missing field")):0==formatValidatorNew("",$(this),"","","",8,1e5,25e7,"",12,"")?($(this).addClass("error"),$(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#property_cost"),"Invalid data")):($("#property_cost").val(NewMoneyFormatInr($("#property_cost").val())),$("#property_cost").parent().removeClass("error"),$("#property_cost").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(this)))}),$("#outstanding_balance").on("keyup",function(e){$("#outstanding_balance").val(NewMoneyFormatInr($("#outstanding_balance").val())),$("#slider_1_inword").html(digitToWordConvertor(unformatMoney($("#outstanding_balance").val()))),$("#slider_1_inword").show()}),$("#customer_name_mobile").on("blur",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#customer_name_mobile"),"Missing field")):($("#customer_name_mobile").parent().removeClass("error"),$("#customer_name_mobile").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(this)))}),$("#city_id").on("change",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),$(quote_element_object).attr("city_id","")):($("#city_id").parent().removeClass("error"),$("#city_id").removeClass("error"),$(".city_id_error_indicator").html(""),$(quote_element_object).attr("city_id",$(this).val()))}),$("#property_city").on("change",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),$(quote_element_object).attr("property_city","")):($("#property_city").parent().removeClass("error"),$("#property_city").removeClass("error"),$(".property_city_error_indicator").html(""),$(quote_element_object).attr("property_city",$(this).val()))}),$("#outstanding_loan_year").on("change",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),$(quote_element_object).attr("outstanding_loan_year","")):($("#outstanding_loan_year").parent().removeClass("error"),$("#outstanding_loan_year").removeClass("error"),$(".outstanding_loan_year_error_indicator").html(""),$(quote_element_object).attr("outstanding_loan_year",$(this).val()))}),$("#monthly_income_mobile").on("keyup",function(e){$("#slider_1_inword").html(digitToWordConvertor(unformatMoney($("#monthly_income_mobile").val()))),$("#slider_1_inword").show()}),$("#monthly_income_mobile").on("blur",function(){""==$(this).val()?($(this).addClass("error"),$(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#monthly_income_mobile"),"Missing field")):0==formatValidatorNew("",$("#monthly_income_mobile"),"","","",8,5e3,25e7,"",12,"")?($(this).addClass("error"),$(this).parent().addClass("error"),FirstPageErrorHandler.addErrorIndicator($("#monthly_income_mobile"),"Invalid data")):($("#monthly_income_mobile").val(NewMoneyFormatInr($("#monthly_income_mobile").val())),$("#monthly_income_mobile").parent().removeClass("error"),$("#monthly_income_mobile").removeClass("error"),FirstPageErrorHandler.removeErrorIndicator($(this)))}),$(document).on("click",".ndnc",function(){0==$(this).prop("checked")?(FirstPageErrorHandler.addErrorIndicator($(this),"Missing field"),$(".ndnc_text").addClass("ndnc_text_error")):(FirstPageErrorHandler.removeErrorIndicator($(this)),$(".ndnc_text").removeClass("ndnc_text_error"))}),$(document).on("click","[data-labelfor]",function(){1==$("#ndnc").prop("checked")?(FirstPageErrorHandler.addErrorIndicator($("#ndnc"),"Missing field"),$(".ndnc_text").addClass("ndnc_text_error")):(FirstPageErrorHandler.removeErrorIndicator($("#ndnc")),$(".ndnc_text").removeClass("ndnc_text_error")),$("#"+$(this).attr("data-labelfor")).prop("checked",function(e,t){return!t})}),$(document).on("click",".amex_text,#cibil_check",function(){$("#cibil_check").prop("checked",function(e,t){return t?$(".amex_text").addClass("amex_text_error"):$(".amex_text").removeClass("amex_text_error"),!t})}),$(document).on("click",".button_otp",verifyOTPCode),$(document).on("click",".otp_resend",resendOTPCode),$(document).on("click",".resend_otp_code",resendOTPCodeOnNewNumber),$(document).on("click",".new_mobile",changeMobileNumber),$(document).on("click",".cancel_code",cancelMobileNumberChange),$(document).on("click",".back",goToPreviousScreen),$(document).on("keypress",".notrequired",function(e){}),$(document).on("blur",".notrequired",function(){""==$(this).val()||$(this).val().length>2?pbError.remove($(this)):pbError.add($(this))}),$(document).on("change",".notnull",function(){"0"==$(this).val()||""==$(this).val()?pbError.addForSelect($(this)):pbError.removeForSelect($(this))}),$(document).on("blur",".required",function(){""!=$(this).val()&&$(this).val().length>2?pbError.remove($(this)):pbError.add($(this))}),$(document).on("blur",".alpha",function(){alphaValidator($(this))}),$(document).on("keypress",".alpha",function(e){return formatValidatorNew(e,$(this),"","","",1,"","","","","")}),$(document).on("focus",".employer_name",function(){fillDataByAutocomplete($(this),"company_name","get_employer_name","industry")}),$(document).on("blur",".employer_name",function(){var e=$(this).val();""==e||e.length<2||e.length>100||!e.match(/^\d*[a-zA-Z][a-zA-Z0-9\.&_\-\s]*$/)?pbError.add($(this)):pbError.remove($(this))}),$("#request_otp_again").click(function(){resendOTPCode()}),$(".otp_close_icon").click(function(){$(".otp-overlay").addClass("hide"),$(".otp_modal_container").addClass("hide"),$(".otp_digit_1 , .otp_digit_2 , .otp_digit_3 , .otp_digit_4").val(""),$("#error_otp").addClass("hide"),$(".overlay").removeClass("display-block").addClass("display-none")}),$("#change_mobile_number").click(function(){$(".otp-overlay").addClass("hide"),$(".otp_modal_container").addClass("hide"),$(".overlay").removeClass("display-block").addClass("display-none"),$("#mobile_number").focus(),$(".otp_digit_1 , .otp_digit_2 , .otp_digit_3 , .otp_digit_4").val("")}),$(document).on("blur",".required_address",function(){var e=$.trim($(this).val());""==e||e.length<3||e.length>31||!e.match(address_pattern)?pbError.add($(this)):pbError.remove($(this))}),$(document).on("blur",".address",function(){var e=$.trim($(this).val());""!=e&&(e.length<3||e.length>31||!e.match(address_pattern))?pbError.add($(this)):pbError.remove($(this))}),$(document).on("keypress",".required_address",function(e){return formatValidatorNew(e,$(this),"","","",12,"","","","","")}),$(document).on("keypress",".address",function(e){return formatValidatorNew(e,$(this),"","","",12,"","","","","")}),$(document).on("blur",".pincode",function(){pincodeValidator($(this))}),$(document).on("blur","input[name='pan_number']",function(){panValidator($(this))}),$(document).on("change","#employer_state",function(){getCitiesForEmployer($(this).val(),"employer_city","office_pincode","office_city_validator","office_pincode_loader"),""==$(this).val()||0==$(this).val()?(pbError.add($(this)),$("#employer_city").val(""),$("#office_pincode").val("")):pbError.remove($(this))}),$(document).on("change","#applicant_state",function(){getCitiesForEmployer($(this).val(),"city","pincode","applicant_city_validator","pincode_loader"),""==$(this).val()||0==$(this).val()?(pbError.add($(this)),$("#city").val(""),$("#pincode").val("")):pbError.remove($(this))}),$(document).on("change","#employer_city",function(){getPincodes($(this).val(),"employer_city","office_pincode","office_pincode_loader"),""==$(this).val()||0==$(this).val()?pbError.add($(this)):pbError.remove($(this)),$("#office_pincode").val("")}),$(document).on("keypress","input[name='pincode']",function(e){return 1==formatValidatorNew(e,$(this),"","","",5,"","","","","")&&(jQueryAutoComplete($(this),pin_code_array),!0)}),$(document).on("keypress","input[name='office_pincode']",function(e){return 1==formatValidatorNew(e,$(this),"","","",5,"","","","","")&&(jQueryAutoComplete($(this),office_pin_code),!0)})}),$(window).on("load",function(){$(window).width()<=768&&mobilehelp(),$(".cselectpicker").each(function(){var e=$(this).attr("title");$(this).select2({placeholder:e})}),$(".wsselectpicker").each(function(){var e=$(this).attr("title");$(this).select2({placeholder:e,minimumResultsForSearch:1/0})})}),validateInterestRate=function(e){return""==$(e).val()?($(e).addClass("error"),$(".existing_interest_rate_error_indicator").html("Please provide interest rate"),$(quote_element_object).attr("existing_interest_rate",""),0):$(e).val()<8||$(e).val()>17.95?(invalid_interest_rate=1,$(e).addClass("error"),$("#existing_interest_rate").val(""),$(".existing_interest_rate_error_indicator").html("Invalid Data"),$(quote_element_object).attr("existing_interest_rate",""),0):($(e).removeClass("error"),$(e).parent().removeClass("error"),$(".existing_interest_rate_error_indicator").html(""),$(quote_element_object).attr("existing_interest_rate",$(e).val()),1)},verifyOTPCode=function(){var e="otp_code="+($(".otp_digit_1").val()+""+$(".otp_digit_2").val()+$(".otp_digit_3").val()+$(".otp_digit_4").val()),t=$("#customer_name_bureau").val(),r=$("#email_bureau").val(),a=$("#outstanding_balance").val(),o=$("#mobi_number").val();$.ajax({type:"POST",url:"/"+page_action_url+"/",data:e+"&step=validate_otp_code&form_no=1&fullName="+t+"&email="+r+"&loan_amount="+a+"&mobile_number="+o,dataType:"json",success:function(e){if("otpVerified"==e.status)if(_pb_tracker.trackEvent(["clevertab"],"HLBT_OTP_Verified",{"Customer ID":"'"+customer_ID+"'"}),a>=15e5){$("#step-1").addClass("hide"),$("#step-2").removeAttr("style"),$("#step-2").removeClass("hide"),$("#calculator_part-3").removeClass("hide"),$("#terms_conditions_div").removeClass("hide");var t=updateQueryStringParameter(window.location.href,"ref2","hlpq2");window.history.pushState({},"",t),$("#step-2").show(),$(".otp-overlay").addClass("hide"),$(".otp_modal_container").addClass("hide"),$(".overlay").removeClass("display-block").addClass("display-none"),$(".otp_digit_1 , .otp_digit_2 , .otp_digit_3 , .otp_digit_4").val(""),$("#error_otp").addClass("hide")}else window.location=e.redirect_url;else"error"==e.status&&($("#loading").addClass("display-none"),$("body").removeClass("ofH p-F"),$(".otp_digit_1, .otp_digit_2, .otp_digit_3, .otp_digit_4").val("").removeClass("otp_type_clr").addClass("otp_error"),$("#error_otp").removeClass("hide"),$(".otp_digit_1").focus())}})},resendOTPCode=function(){if(""!=$("#mobi_number").val()&&10==$("#mobi_number").val().length&&$("#mobi_number").val()>0){var e=$("#mobi_number").serialize();$("#error_otp").addClass("hide"),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:e+"&step=resend_code",dataType:"json",success:function(e){"success"==e.status?($(".otp_digit_1, .otp_digit_2, .otp_digit_3, .otp_digit_4").val("").removeClass("otp_type_clr").removeClass("otp_error"),$("#error_otp").removeClass("hide").text("Otp send successfully.")):null!=e.redirect_url?window.location=e.redirect_url:e.status}})}},resendOTPCodeOnNewNumber=function(){if($("#mobile_change").css("border","solid 1px #d5d5d5"),showLoader("loading","display-block"),!(""!=$(".resend").val()&&10==$(".resend").val().length&&$(".resend").val()>0))return showLoader("loading","display-none"),$(".resend").css("border","solid 1px red"),!1;var e=$("#resendCode").serialize(),t="/"+page_action_url+"/";$.ajax({type:"POST",url:t,data:e+"&step=resend_code",dataType:"json",success:function(e){"success"==e.status?$("#main_content").html(e.html):null!=e.redirect_url?window.location=e.redirect_url:"error"==e.status&&($("#otp_validator").attr("class",""),$("#otp_validator").attr("class","setp_box_active"),$("#otp_validator").html(e.error_message),$(".resend").addClass("error")),showLoader("loading","display-none")}})},changeMobileNumber=function(){$("#otp").val(""),$("#otp").removeClass("error"),$("#otp_validator").attr("class",""),$("#otp_validator").html(""),$("#resend_validator").attr("class",""),$("#resend_validator").html("");$("#change_mobile").html('<form class=\'resendCode\' id=\'resendCode\'><span class="entrmobile">New Mobile No:&nbsp;</span><input type="text" autocomplete="off" id="mobile_change" class="resend otp_textbox_resend" maxlength="10" name="mobile_change">&nbsp;<input type="button" class="change_btn resend_otp_code" value="Go">&nbsp;<input type="button" class="change_btn cancel_code" value="Cancel"></form>')},cancelMobileNumberChange=function(){$("#change_mobile").html('<input type="button" value="Change Mobile Number" class="change_btn new_mobile">')},goToPreviousScreen=function(){showLoader("loading","display-block");var e=$(this).attr("field-value"),t="/"+$(this).attr("urlaction");$.ajax({type:"POST",url:t,data:"step=backscreen&screen_show="+e,dataType:"json",success:function(e){"success"==e.status?(autolistener=0,$("#main_content").hide("1000",function(){$("#main_content").html(e.html),getSliderForAmountAndTenure(),$("#main_content").show("2000"),showLoader("loading","display-none")})):"error"==e.status&&($("#err-msg").html(e.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}})},fillDataByAutocomplete=function(e,t,r,a){$(e).autocomplete({source:function(e,a){$(this);var o,n=$(this.element),l=n.data("jqrequest");l&&l.abort(),"get_builder_name"==r?o={builder_name:e.term,step:r}:"get_employer_name"==r&&(o={employer_name:e.term,step:r}),n.data("jqrequest",$.ajax({url:"/common-request",dataType:"json",async:"false",mode:"abort",asyn:!1,data:o,beforeSend:function(){null!=document.getElementById("'"+t+"'_exists'")&&(document.getElementById("'"+t+"'_exists'").innerHTML='  <img height="20" src="/components/images/loading.gif">')},success:function(e){a($.map(e.html,function(e){return{label:e,value:e}})),null!=document.getElementById("'"+t+"'_exists'")&&(document.getElementById("'"+t+"'_exists'").innerHTML="")}}))},minLength:2,selectFirst:!0,selectOnly:!0,select:function(e,r){return $("#"+t).val(r.item.label),!0}}).keydown(function(e,r,o){if(13==e.which&&setTimeout(function(){$(".ui-autocomplete").css("display","none"),$("#"+a).focus()},500),(9==e.which||13==e.which)&&"none"!=$(".ui-autocomplete").css("display")){var n=$(".ui-autocomplete li:first a").html();return $("#"+t).val(n),!0}})},insertErrorScrollValue=function(e,t){var r=$("input[name='"+e+"']").parents(t).position().top-20;$("input[name='"+e+"']").attr("error-scroll",Math.round(r))},showErrorOnFields=function(e,t){if("select"==t){var r=$("select[name='"+e+"']").parents("div.panel").offset().top-20,a=$("select[name='"+e+"']");$("select[name='"+e+"']").parent().addClass("error"),$("select[name='"+e+"']").attr("error-scroll",Math.round(r)),iconGroupButtonAction.errorScrollRow(a),FirstPageErrorHandler.addErrorIndicator($("select[name='"+e+"']"),"Missing field")}else{r=$("input[name='"+e+"']").parents("div.panel").offset().top-20,a=$("input[name='"+e+"']");$("input[name='"+e+"']").addClass("error"),$("input[name='"+e+"']").parent().addClass("error"),$("input[name='"+e+"']").attr("error-scroll",Math.round(r)),iconGroupButtonAction.errorScrollRow(a),FirstPageErrorHandler.addErrorIndicator($("input[name='"+e+"']"),"Missing field")}},showErrorOnFieldsCalculator=function(e,t){"select"==t?($("select[name='"+e+"']").parent().addClass("error"),$("."+e).addClass("error"),$("."+e+"_error_indicator").html($("#"+e).attr("data-validation-error-msg"))):($("input[name='"+e+"']").addClass("error"),$("input[name='"+e+"']").parent().addClass("error"),"mobile_number"==e?$("."+e+"_error_indicator").html($("#mobi_number").attr("data-validation-error-msg")):$("."+e+"_error_indicator").html($("#"+e).attr("data-validation-error-msg")))},formValidator={yearValidate:function(e){var t=new Date,r=t.getFullYear()-65,a=t.getFullYear()-18,o=$(e).prev(),n=$(o).prev(),l=formatValidator("",$(e),"","","",11,r,a,"","","");return 1==l?($(e).removeClass("error"),$(o).hasClass("error")||$(n).hasClass("error")||FirstPageErrorHandler.removeErrorIndicator($(e))):($(e).addClass("error"),""==$(n).val()||""==$(o).val()||""==$(e).val()?FirstPageErrorHandler.addErrorIndicator($(e),"Missing field"):FirstPageErrorHandler.addErrorIndicator($(e),"Invalid data")),parseInt($(o).val())<=0&&($(o).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field")),parseInt($(n).val())<=0?($(n).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(e),"Missing field")):1==l&&(l=formValidator.dayValidate($(n))),l},monthValidate:function(e){var t=$(e).next(),r=$(e).prev(),a=formatValidator("",$(e),"","","",11,1,12,"","","");return 1==a?($(e).removeClass("error"),$(t).hasClass("error")||$(r).hasClass("error")||FirstPageErrorHandler.removeErrorIndicator($(t))):($(e).addClass("error"),""==$(r).val()||""==$(e).val()||""==$(t).val()?FirstPageErrorHandler.addErrorIndicator($(t),"Missing field"):FirstPageErrorHandler.addErrorIndicator($(t),"Invalid data")),parseInt($(r).val())<=0?($(r).addClass("error"),FirstPageErrorHandler.addErrorIndicator($(t),"Missing field")):1==a&&(a=formValidator.dayValidate(r)),a},dayValidate:function(e){var t,r=$(e).next(),a=$(r).next();t=dateValidate.calculateDays($(r).val(),$(a).val());var o=formatValidator("",$(e),"","","",11,1,t,"","","");return 1==o?($(e).removeClass("error"),$(a).hasClass("error")||$(r).hasClass("error")||FirstPageErrorHandler.removeErrorIndicator($(a))):($(e).addClass("error"),""==$(e).val()||""==$(r).val()||""==$(a).val()?FirstPageErrorHandler.addErrorIndicator($(a),"Missing field"):FirstPageErrorHandler.addErrorIndicator($(a),"Invalid data")),o},quoteFullFormValidator:function(){var e=!0,t=$(quote_element_object).attr("outstanding_loan_month"),r=$(quote_element_object).attr("outstanding_loan_year"),a=$(quote_element_object).attr("outstanding_loan_tenure_month"),o=$(quote_element_object).attr("outstanding_loan_tenure_year"),n=$(quote_element_object).attr("total_loan_tenure");return $.each(quote_final_element_object,function(l,i){if("outstanding_loan_amount_type"==l)""==i&&(showErrorOnFieldsCalculator(l,"input"),e=!1);else if("outstanding_balance"==l){var s=1;""==outstanding_balance?(s=0,"new_hlbt_calculator"==utmtitle?showErrorOnFieldsCalculator(l,"input"):showErrorOnFieldsCalculator(l,"select")):($("input[name='outstanding_balance']").removeClass("error"),$("input[name='outstanding_balance']").parent().removeClass("error"),$(".outstanding_balance_error_indicator").html(""),"new_hlbt_calculator"==utmtitle&&(s=getFieldValidate($("input[name='outstanding_balance']"),1))),0==s&&(e=!1)}else if("outstanding_loan_month"==l||"outstanding_loan_year"==l)""==t?($("select[name='outstanding_loan_month']").addClass("error"),e=!1):$("select[name='outstanding_loan_month']").removeClass("error"),""==r?(showErrorOnFieldsCalculator("outstanding_loan_year","select"),e=!1):($("select[name='outstanding_loan_year']").removeClass("error"),$("select[name='outstanding_loan_year']").parent().removeClass("error"),$(".outstanding_loan_year_error_indicator").html(""));else if("outstanding_loan_tenure_month"==l||"outstanding_loan_tenure_year"==l)""===a&&(showErrorOnFieldsCalculator(l,"select"),e=!1),""===o&&(showErrorOnFieldsCalculator(l,"select"),e=!1);else if("total_loan_tenure"==l)""==n&&(showErrorOnFieldsCalculator(l,"select"),e=!1),""!=n&&($("select[name='total_loan_tenure']").removeClass("error"),$("select[name='total_loan_tenure']").parent().removeClass("error"),$(".total_loan_tenure_error_indicator").html(""));else if("existing_interest_rate"==l){var d=1;""==i&&0==invalid_interest_rate?d=0:""==i&&1==invalid_interest_rate&&(e=!1),0==d?(showErrorOnFieldsCalculator(l,"input"),e=!1):($("input[name='existing_interest_rate']").removeClass("error"),$("input[name='existing_interest_rate']").parent().removeClass("error"),$(".existing_interest_rate_error_indicator").html(""))}else if("loan_with_current_bank"==l)""==i?(showErrorOnFieldsCalculator(l,"select"),e=!1):($("select[name='loan_with_current_bank']").removeClass("error"),$("select[name='loan_with_current_bank']").parent().removeClass("error"),$(".loan_with_current_bank_error_indicator").html(""));else if("city_id"==l)""==i?(showErrorOnFieldsCalculator(l,"select"),e=!0):($("input[name='city_id']").removeClass("error"),$("input[name='city_id']").parent().removeClass("error"),$(".city_id_error_indicator").html(""));else if("customer_name"==l){$("input[name='customer_name']").val().split(" ").length<2?(showErrorOnFieldsCalculator(l,"input"),e=!1):0==nameValidate($("input[name='customer_name']"))?(showErrorOnFieldsCalculator(l,"input"),e=!1):($("input[name='customer_name']").removeClass("error"),$("input[name='customer_name']").parent().removeClass("error"),$(".customer_name_error_indicator").html(""))}else if("title"==l);else if("date_of_birth"==l){if(null!=$("#day_of_birth").val()){if($(".datepick").hasClass("error")&&(e=!1),""==$("#day_of_birth").val())$("#day_of_birth").addClass("error"),e=!1;else{0==formValidator.dayValidate($("#day_of_birth"))&&(e=!1)}if(""==$("#month_of_birth").val())$("#month_of_birth").addClass("error"),e=!1;else{0==formValidator.monthValidate($("#month_of_birth"))&&(e=!1)}if(""==$("#year_of_birth").val())$("#year_of_birth").addClass("error"),e=!1;else{0==formValidator.yearValidate($("#year_of_birth"))&&(e=!1)}}}else if("email"==l){0==getFieldValidate($('input[name="'+l+'"]'),1)?(showErrorOnFieldsCalculator(l,"input"),e=!1):($("input[name='email']").removeClass("error"),$("input[name='email']").parent().removeClass("error"),$(".email_error_indicator").html(""))}else if("mobile_number"==l){0==getFieldValidate($('input[name="'+l+'"]'),1)?(showErrorOnFieldsCalculator(l,"input"),e=!1):($("input[name='mobile_number']").removeClass("error"),$("input[name='mobile_number']").parent().removeClass("error"),$(".mobile_number_error_indicator").html(""))}null!=document.getElementById("agreechk")&&($("#agreechk").is(":checked")||($("#agreechk").addClass("error"),$(".agreechk_error_indicator").addClass("form-error"),$(".agreechk_error_indicator").parents(".form-group").addClass("has-error"),$("#agreechk").next().addClass("ndnc_text_error"),e=!1)),null!=document.getElementById("terms")&&($("#terms").is(":checked")||($("#terms").addClass("error"),$(".terms_error_indicator").addClass("form-error"),$(".terms_error_indicator").parents(".form-group").addClass("has-error"),$("#terms").next().addClass("ndnc_text_error"),e=!1))}),e},quoteFormCalculatorValidator:function(e){var t=!1,r=$(quote_element_object).attr("outstanding_loan_month"),a=$(quote_element_object).attr("outstanding_loan_year"),o=$(quote_element_object).attr("total_loan_tenure"),n=unformatMoney($("#outstanding_balance").val()),l=$("#property_approved_by").val(),i=getUrlVars().utm_title;if(n<=15e5&&"new_hlbt_calculator"!=i?$.each(quote_element_object,function(e,s){if("outstanding_loan_amount_type"==e)""==s?(showErrorOnFieldsCalculator(e,"select"),t=!0):($("input[name='outstanding_loan_amount_type']").removeClass("error"),$("input[name='outstanding_loan_amount_type']").parent().removeClass("error"),$(".outstanding_loan_amount_type_error_indicator").html(""));else if("outstanding_balance"==e){var d=1;""==n?(d=0,"new_hlbt_calculator"==i?showErrorOnFieldsCalculator(e,"input"):showErrorOnFieldsCalculator(e,"select")):($("input[name='outstanding_balance']").removeClass("error"),$("input[name='outstanding_balance']").parent().removeClass("error"),$(".outstanding_balance_error_indicator").html(""),"new_hlbt_calculator"==i&&(d=getFieldValidate($("input[name='outstanding_balance']"),1))),0==d&&(t=!0)}else if("outstanding_loan_month"==e||"outstanding_loan_year"==e)""==r?($("select[name='outstanding_loan_month']").addClass("error"),t=!0):$("select[name='outstanding_loan_month']").removeClass("error"),""==a?(showErrorOnFieldsCalculator("outstanding_loan_year","select"),t=!0):($("select[name='outstanding_loan_year']").removeClass("error"),$(".outstanding_loan_year").html(""));else if("total_loan_tenure"==e)""==o?(showErrorOnFieldsCalculator("total_loan_tenure","select"),t=!0):($("select[name='total_loan_tenure']").removeClass("error"),$("select[name='total_loan_tenure']").parent().removeClass("error"),$(".total_loan_tenure_error_indicator").html(""));else if("existing_interest_rate"==e)""==s?(showErrorOnFieldsCalculator(e,"input"),t=!0):($("input[name='existing_interest_rate']").removeClass("error"),$("input[name='existing_interest_rate']").parent().removeClass("error"),$(".existing_interest_rate_error_indicator").html(""));else if("mobile_number"==e)if(""==s)showErrorOnFieldsCalculator(e,"input"),t=!0;else{0==getFieldValidate($('input[name="'+e+'"]'),0)?(t=!0,showErrorOnFieldsCalculator(e,"input")):($("input[name='mobile_number']").removeClass("error"),$("input[name='mobile_number']").parent().removeClass("error"),$(".mobile_number_error_indicator").html(""))}else"property_approved_by"==e?""==l?(showErrorOnFieldsCalculator("property_approved_by","select"),t=!0):($("select[name='property_approved_by']").removeClass("error"),$("select[name='property_approved_by']").parent().removeClass("error"),$(".property_approved_by_error_indicator").html("")):"property_city"==e&&(""==s?(showErrorOnFieldsCalculator(e,"select"),t=!0):($("input[name='property_city']").removeClass("error"),$("input[name='property_city']").parent().removeClass("error"),$(".property_city_error_indicator").html("")));null!=document.getElementById("agreechk")&&($("#agreechk").is(":checked")||($("#agreechk").addClass("error"),$(".agreechk_error_indicator").addClass("form-error"),$(".agreechk_error_indicator").parents(".form-group").addClass("has-error"),$("#agreechk").next().addClass("ndnc_text_error"),t=!0));var _=formatValidator(event,$("#email_bureau"),"","","",13,"","","",63,""),c=$("#customer_name_bureau").val(),u=$("#email_bureau").val();if("FILED_MANIOULATE"==bureauCustomer){c=c.replace(/^\s+|\s+$/g,""),$(".customer_name_bureau").val(c);var m=c.split(" ");(""===c||c.length<3||m.length<2)&&($(".name").addClass("error"),$(".customer_name_bureau_error_indicator").addClass("help-block form-error"),$(".customer_name_bureau_error_indicator").parents(".form-group").addClass("has-error"),t=!0),""!=u&&0!=_||($("#email_bureau").addClass("error"),$(".email_bureau_error_indicator").addClass("form-error"),$(".email_bureau_error_indicator").parents(".form-group").addClass("has-error"),$(".email_bureau_error_indicator").html($("#email_pq1").attr("data-validation-error-msg")),t=!0)}null!=document.getElementById("hlbt_terms")&&($("#hlbt_terms").is(":checked")||($("#hlbt_terms").addClass("error"),$(".hlbt_terms_error_indicator").addClass("form-error"),$(".hlbt_terms_error_indicator").parents(".form-group").addClass("has-error"),$("#hlbt_terms").next().addClass("ndnc_text_error"),t=!0)),1==t||$("input[name='"+e+"']").removeClass("error")}):n>15e5&&"new_hlbt_calculator"!=i?$.each(quote_element_object,function(e,l){if("outstanding_loan_amount_type"==e)""==l?(showErrorOnFieldsCalculator(e,"select"),t=!0):($("input[name='outstanding_loan_amount_type']").removeClass("error"),$("input[name='outstanding_loan_amount_type']").parent().removeClass("error"),$(".outstanding_loan_amount_type_error_indicator").html(""));else if("outstanding_balance"==e){var s=1;""==n?(s=0,"new_hlbt_calculator"==i?showErrorOnFieldsCalculator(e,"input"):showErrorOnFieldsCalculator(e,"select")):($("input[name='outstanding_balance']").removeClass("error"),$("input[name='outstanding_balance']").parent().removeClass("error"),$(".outstanding_balance_error_indicator").html(""),"new_hlbt_calculator"==i&&(s=getFieldValidate($("input[name='outstanding_balance']"),1))),0==s&&(t=!0)}else if("outstanding_loan_month"==e||"outstanding_loan_year"==e)""==r?($("select[name='outstanding_loan_month']").addClass("error"),t=!0):$("select[name='outstanding_loan_month']").removeClass("error"),""==a?(showErrorOnFieldsCalculator("outstanding_loan_year","select"),t=!0):($("select[name='outstanding_loan_year']").removeClass("error"),$(".outstanding_loan_year").html(""));else if("total_loan_tenure"==e)""==o?(showErrorOnFieldsCalculator("total_loan_tenure","select"),t=!0):($("select[name='total_loan_tenure']").removeClass("error"),$("select[name='total_loan_tenure']").parent().removeClass("error"),$(".total_loan_tenure_error_indicator").html(""));else if("existing_interest_rate"==e)""==l?(showErrorOnFieldsCalculator(e,"input"),t=!0):($("input[name='existing_interest_rate']").removeClass("error"),$("input[name='existing_interest_rate']").parent().removeClass("error"),$(".existing_interest_rate_error_indicator").html(""));else if("mobile_number"==e)if(""==l)showErrorOnFieldsCalculator(e,"input"),t=!0;else{0==getFieldValidate($('input[name="'+e+'"]'),0)?(t=!0,showErrorOnFieldsCalculator(e,"input")):($("input[name='mobile_number']").removeClass("error"),$("input[name='mobile_number']").parent().removeClass("error"),$(".mobile_number_error_indicator").html(""))}else"property_city"==e&&(""==l?(showErrorOnFieldsCalculator(e,"select"),t=!0):($("input[name='property_city']").removeClass("error"),$("input[name='property_city']").parent().removeClass("error"),$(".property_city_error_indicator").html("")));null!=document.getElementById("agreechk")&&($("#agreechk").is(":checked")||($("#agreechk").addClass("error"),$(".agreechk_error_indicator").addClass("form-error"),$(".agreechk_error_indicator").parents(".form-group").addClass("has-error"),$("#agreechk").next().addClass("ndnc_text_error"),t=!0)),null!=document.getElementById("hlbt_terms")&&($("#hlbt_terms").is(":checked")||($("#hlbt_terms").addClass("error"),$(".hlbt_terms_error_indicator").addClass("form-error"),$(".hlbt_terms_error_indicator").parents(".form-group").addClass("has-error"),$("#hlbt_terms").next().addClass("ndnc_text_error"),t=!0)),1==t||$("input[name='"+e+"']").removeClass("error")}):$.each(quote_element_object,function(e,l){if("outstanding_loan_amount_type"==e)""==l?(showErrorOnFieldsCalculator(e,"select"),t=!0):($("input[name='outstanding_loan_amount_type']").removeClass("error"),$("input[name='outstanding_loan_amount_type']").parent().removeClass("error"),$(".outstanding_loan_amount_type_error_indicator").html(""));else if("outstanding_balance"==e){var s=1;""==n?(s=0,"new_hlbt_calculator"==i?showErrorOnFieldsCalculator(e,"input"):showErrorOnFieldsCalculator(e,"select")):($("input[name='outstanding_balance']").removeClass("error"),$("input[name='outstanding_balance']").parent().removeClass("error"),$(".outstanding_balance_error_indicator").html(""),"new_hlbt_calculator"==i&&(s=getFieldValidate($("input[name='outstanding_balance']"),1))),0==s&&(t=!0)}else if("outstanding_loan_month"==e||"outstanding_loan_year"==e)""==r?($("select[name='outstanding_loan_month']").addClass("error"),t=!0):$("select[name='outstanding_loan_month']").removeClass("error"),""==a?(showErrorOnFieldsCalculator("outstanding_loan_year","select"),t=!0):($("select[name='outstanding_loan_year']").removeClass("error"),$(".outstanding_loan_year").html(""));else if("total_loan_tenure"==e)""==o?(showErrorOnFieldsCalculator("total_loan_tenure","select"),t=!0):($("select[name='total_loan_tenure']").removeClass("error"),$("select[name='total_loan_tenure']").parent().removeClass("error"),$(".total_loan_tenure_error_indicator").html(""));else if("existing_interest_rate"==e)""==l?(showErrorOnFieldsCalculator(e,"input"),t=!0):($("input[name='existing_interest_rate']").removeClass("error"),$("input[name='existing_interest_rate']").parent().removeClass("error"),$(".existing_interest_rate_error_indicator").html(""));else if("mobile_number"==e)if(""==l)showErrorOnFieldsCalculator(e,"input"),t=!0;else{0==getFieldValidate($('input[name="'+e+'"]'),0)?(t=!0,showErrorOnFieldsCalculator(e,"input")):($("input[name='mobile_number']").removeClass("error"),$("input[name='mobile_number']").parent().removeClass("error"),$(".mobile_number_error_indicator").html(""))}else"city_id"==e?""==l?(showErrorOnFieldsCalculator(e,"select"),t=!0):($("input[name='city_id']").removeClass("error"),$("input[name='city_id']").parent().removeClass("error"),$(".city_id_error_indicator").html("")):"property_city"==e&&(""==l?(showErrorOnFieldsCalculator(e,"select"),t=!0):($("input[name='property_city']").removeClass("error"),$("input[name='property_city']").parent().removeClass("error"),$(".property_city_error_indicator").html("")));null!=document.getElementById("agreechk")&&($("#agreechk").is(":checked")||($("#agreechk").addClass("error"),$(".agreechk_error_indicator").addClass("form-error"),$(".agreechk_error_indicator").parents(".form-group").addClass("has-error"),$("#agreechk").next().addClass("ndnc_text_error"),t=!0)),null!=document.getElementById("hlbt_terms")&&($("#hlbt_terms").is(":checked")||($("#hlbt_terms").addClass("error"),$(".hlbt_terms_error_indicator").addClass("form-error"),$(".hlbt_terms_error_indicator").parents(".form-group").addClass("has-error"),$("#hlbt_terms").next().addClass("ndnc_text_error"),t=!0)),1==t||$("input[name='"+e+"']").removeClass("error")}),t)return!1;if(-1!=window.location.href.indexOf("utm_title=new_hlbt_calculator")){var s=updateQueryStringParameter(window.location.href,"ref","hlbtpq2");window.history.pushState({},"",s)}else{s=updateQueryStringParameter(window.location.href,"ref2","hlbtpq2");window.history.pushState({},"",s)}""!=(n=unformatMoney($("#outstanding_balance").val()))&&n>0&&$(quote_element_object).attr("outstanding_balance",n),n<=15e5&&"new_hlbt_calculator"!=i?nwlHLBT():("new_hlbt_calculator"==i&&$(quote_element_object).attr("property_city",$("#city_id").val()),0==iconGroupButtonAction.setValue($(e),quote_element_object)&&iconGroupButtonAction.setValue($(e),quote_element_object_second),showLoader("loading","display-block"),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:$.param(quote_element_object)+"&employment_type_id=1&step=get_best_quote",dataType:"json",success:function(e){if("success"==e.status){var t=$("select[name=outstanding_loan_amount_type]").val(),r=$("#outstanding_balance").val(),a=$("#total_loan_tenure").val(),o=$("#outstanding_loan_year").val(),n=$("#property_city").val();_pb_tracker.trackEvent(["clevertab"],"HLBT_Submitted_PQ1",{"Loan Type":"'"+t+"'","Total/Outstanding Loan Amount":"'"+r+"'","Loan Tenure":"'"+a+"'","Loan Started On":"'"+o+"'","Customer ID":"'"+customer_ID+"'"}),"otpVerified"==e.additional_data_value&&($("#step-1").addClass("hide"),$("#step-2").removeAttr("style"),$("#step-2").removeClass("hide"),$("#calculator_part-3").removeClass("hide"),$("#terms_conditions_div").removeClass("hide")),null!=e.saving_amount&&(pb_tracker_saving_amount=e.saving_amount),"otpSend"==e.additional_data_value&&($(".otp_modal_container").removeClass("hide"),$(".overlay").removeClass("display-none").addClass("display-block"),$(".otp_digit_1").focus()),"&utm_title=new_hlbt_calculator"==e.redirect_url?($("#saving_data").html(e.html),dataLayer.push({"HLBT Loan Amount":r,"HLBT Property City":n,"HLBT FlowsFrom":page_action_url})):$("#calculator_part-2").html(e.html),null!=e.reduced_loan_tenure&&$(quote_element_object).attr("reduced_loan_tenure",e.reduced_loan_tenure),$(quote_element_object).attr("monthly_income",e.monthly_salary),$("#total-saving-container").html(e.html),_pb_tracker.trackEvent(["clevertab"],"HLBT_Viewed_PQ2",{"Customer ID":"'"+customer_ID+"'","Saving Amount":"'"+pb_tracker_saving_amount+"'"}),showLoader("loading","display-none")}else null!=e.redirect_url&&(window.location=e.redirect_url)}}))},updateQuoteSavingsData:function(e){showLoader("loading","display-block");var t=$(e).parents("div.panel").offset();$("body,html").animate({scrollTop:parseInt(t.top)+185},800),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"is_half_page_saved=1&step=claim_savings",dataType:"json",success:function(e){"success"==e.status?($("#claim_savings").remove(),$("#terms_conditions_div").removeClass("hide"),$("#calculator_part-3").removeClass("hide"),showLoader("loading","display-none")):null!=e.redirect_url&&(window.location=e.redirect_url)}})}},nwlHLBT=function(){$(quote_element_object_second).attr("date_of_birth",$("#year_of_birth").val()+"-"+$("#month_of_birth").val()+"-"+$("#day_of_birth").val()),$(quote_element_object).attr("outstanding_balance",getIntValueFromInr($("input[name='outstanding_balance']").val())),$(quote_element_object).attr("annual_turnover",getIntValueFromInr($("input[name='annual_turnover']").val())),$(quote_element_object_second).attr("monthly_income",getIntValueFromInr($("input[name='monthly_income']").val())),$(quote_element_object_second).attr("step","personal_information"),$(quote_element_object_second).attr("loan_with_current_bank","2"),$(quote_element_object_second).attr("property_approved_by",$("#property_approved_by").val()),$(quote_element_object_second).attr("form_no",1),$(quote_element_object).attr("customer_name",$("#customer_name_bureau").val()),$(quote_element_object).attr("email",$("#email_bureau").val()),$.each(quote_element_object_second,function(e,t){quote_final_element_object[e]=t}),$.each(quote_element_object,function(e,t){quote_final_element_object[e]=t}),showLoader("loading","display-block"),$.ajax({type:"POST",url:"/"+page_action_url+"/",dataType:"json",data:quote_final_element_object,success:function(e){"success"==e.status?$("#main_content").hide(1e3,function(){$("#main_content").html(e.html),getSliderForAmountAndTenure(),$("#main_content").show(1500),showLoader("loading","display-none"),$("body,html").animate({scrollTop:125},800)}):"otpSend"==e.additional_data_value?($(".otp_modal_container").removeClass("hide"),$(".overlay").removeClass("display-none").addClass("display-block"),$(".otp_digit_1").focus(),showLoader("loading","display-none")):"otpSendError"==e.additional_data_value?alert("dsssd"):null!=e.redirect_url?window.location=e.redirect_url:"email_error"==e.status&&(scroll=$('input[name="email"]').parents("div.panel").position().top-5,$("body,html").animate({scrollTop:parseInt(scroll)},800),$("#email").addClass("error"),$("#email_error_indicator").removeClass("hide"),$("#email_error_message").html(e.error_message),showLoader("loading","display-none"))},error:function(e){}})},submitPersonalQuoteInfomration=function(){var e=!0;$(quote_element_object_second).attr("date_of_birth",$("#year_of_birth").val()+"-"+$("#month_of_birth").val()+"-"+$("#day_of_birth").val()),$(quote_element_object).attr("outstanding_balance",getIntValueFromInr($("input[name='outstanding_balance']").val())),$(quote_element_object).attr("annual_turnover",getIntValueFromInr($("input[name='annual_turnover']").val())),$(quote_element_object_second).attr("monthly_income",getIntValueFromInr($("input[name='monthly_income']").val())),$(quote_element_object_second).attr("step","personal_information"),$.each(quote_element_object_second,function(e,t){quote_final_element_object[e]=t}),$.each(quote_element_object,function(e,t){quote_final_element_object[e]=t}),"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||$('input[type="text"]').each(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")}),0==(e=formValidator.quoteFullFormValidator())&&("MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||$('input[type="text"]').each(function(){""==$(this).val()&&$(this).val($(this).attr("placeholder"))})),0==$("#ndnc").prop("checked")?($(".ndnc_text").addClass("ndnc_text_error"),FirstPageErrorHandler.addErrorIndicator($(".ndnc"),"Missing field"),e=!1):($(".ndnc_text").removeClass("ndnc_text_error"),FirstPageErrorHandler.removeErrorIndicator($(".ndnc")));var t=[];$("input[name='optin[]']:checked").each(function(){t.push($(this).val())}),$(quote_final_element_object).attr("optin",t),1==e&&($(document).scrollTop(1),showLoader("loading","display-block"),$.ajax({type:"POST",url:"/"+page_action_url+"/",dataType:"json",data:quote_final_element_object,success:function(e){"success"==e.status?$("#main_content").hide(1e3,function(){$("#main_content").html(e.html),getSliderForAmountAndTenure(),$("#main_content").show(1500),showLoader("loading","display-none"),$("body,html").animate({scrollTop:125},800)}):null!=e.redirect_url?window.location=e.redirect_url:"email_error"==e.status&&(scroll=$('input[name="email"]').parents("div.panel").position().top-5,$("body,html").animate({scrollTop:parseInt(scroll)},800),$("#email").addClass("error"),$("#email_error_indicator").removeClass("hide"),$("#email_error_message").html(e.error_message),showLoader("loading","display-none"))},error:function(e){}}))},submitPersonalQuoteInfomrationCalculator=function(){var e=!0;$(quote_element_object).attr("outstanding_balance",getIntValueFromInr($("input[name='outstanding_balance']").val())),$(quote_element_object_second).attr("monthly_income",getIntValueFromInr($("input[name='monthly_income']").val())),""!=$("select[name='loan_with_current_bank']").val()&&$(quote_element_object).attr("loan_with_current_bank",$("select[name='loan_with_current_bank']").val()),$(quote_element_object_second).attr("step","personal_information"),$.each(quote_element_object_second,function(e,t){quote_final_element_object[e]=t}),$.each(quote_element_object,function(e,t){quote_final_element_object[e]=t}),0==(e=formValidator.quoteFullFormValidator())&&("MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||$('input[type="text"]').each(function(){""==$(this).val()&&$(this).val($(this).attr("placeholder"))})),0==$("#ndnc").prop("checked")?($(".ndnc_text").addClass("ndnc_text_error"),FirstPageErrorHandler.addErrorIndicator($(".ndnc"),"Missing field"),e=!1):($(".ndnc_text").removeClass("ndnc_text_error"),FirstPageErrorHandler.removeErrorIndicator($(".ndnc")));var t=[];$("input[name='optin[]']:checked").each(function(){t.push($(this).val())}),$(quote_final_element_object).attr("optin",t),1==e&&($(document).scrollTop(1),showLoader("loading","display-block"),$.ajax({type:"POST",url:"/"+page_action_url+"/",dataType:"json",data:quote_final_element_object,success:function(e){if("success"==e.status)$("#main_content").hide(1e3,function(){$("#main_content").html(e.html),getSliderForAmountAndTenure(),$("#main_content").show(1500),showLoader("loading","display-none"),$("body,html").animate({scrollTop:125},800)});else if(null!=e.redirect_url){var t=$("select[name=loan_with_current_bank]").val();_pb_tracker.trackEvent(["clevertab"],"HLBT_Submitted_PQ2",{"Bank Detail":"'"+t+"'","Customer ID":"'"+customer_ID+"'"}),window.location=e.redirect_url}else"email_error"==e.status&&(scroll=$('input[name="email"]').parents("div.panel").position().top-5,$("body,html").animate({scrollTop:parseInt(scroll)},800),$("#email").addClass("error"),$("#email_error_indicator").removeClass("hide"),$("#email_error_message").html(e.error_message),showLoader("loading","display-none"))},error:function(e){}}))},validateSubmitPostData=function(){var e=!0;return $("#post_quote_home_loan_balance_transfer_form input, #post_quote_home_loan_balance_transfer_form select").each(function(){if(!$(this).hasClass("notnull")||""!=$(this).val()&&"0"!=$(this).val())if($(this).hasClass("required"))""!=$(this).val()?pbError.remove($(this)):(pbError.add($(this)),e=!1);else if($(this).hasClass("alpha")){0==alphaValidator($(this))&&(e=!1)}else if($(this).hasClass("employer_name")){var t=$(this).val();(""==t||t.length<2||t.length>100||!t.match(/^\d*[a-zA-Z][a-zA-Z0-9\.&_\-\s]*$/))&&(pbError.add($(this)),e=!1)}else if($(this).hasClass("required_address")){(""==(r=$.trim($(this).val()))||r.length<3||r.length>31||!r.match(address_pattern))&&(pbError.add($(this)),e=!1)}else if($(this).hasClass("address")){var r;""!=(r=$.trim($(this).val()))&&(r.length<3||r.length>31||!r.match(address_pattern))&&(pbError.add($(this)),e=!1)}else if($(this).hasClass("middleName")){var a=$(this).val();""!=a&&(a.length<3||a.length>31)&&(pbError.add($(this)),e=!1)}else if($(this).hasClass("pincode")){0==pincodeValidator($(this))&&(pbError.add($(this)),e=!1)}else if("pan_number"==$(this).attr("name")&&""!=$(this).val()){0==panValidator($(this))&&(e=!1)}else"cibil_check"==$(this).attr("name")&&(0==$("#cibil_check").prop("checked")?($(".amex_text").addClass("amex_text_error"),FirstPageErrorHandler.addErrorIndicator($("#cibil_check")),e=!1):($(".amex_text").removeClass("amex_text_error"),FirstPageErrorHandler.removeErrorIndicator($("#cibil_check"))));else pbError.addForSelect($(this)),e=!1}),e},submitPostQuote=function(){"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||$('input[type="text"]').each(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")});var e=validateSubmitPostData(),t="/"+$(this).attr("urlaction");if(1==e){showLoader("loading","display-block");var r=$("#post_quote_home_loan_balance_transfer_form").serialize();r+="&step=post_application",$.post(t,r,"","json").done(function(e){"success"==e.status?(autolistener=0,$("#main_content").hide(1e3,function(){$("#main_content").html(e.html),$("#main_content").show(1500),showLoader("loading","display-none"),$("body,html").animate({scrollTop:125},800)})):null!=e.redirect_url?window.location=e.redirect_url:showLoader("loading","display-none")})}else"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||$('input[type="text"]').each(function(){""==$(this).val()&&$(this).val($(this).attr("placeholder"))}),setTimeout(function(){showLoader("loading","display-none")},500)},getRelativeSlider=function(e,t,r){$(e).slider({max:t,value:$(e).attr("min")}).slider("pips",{rest:"label",prefix:"Rs."}).slider("float"),"MSIE7"==version||"MSIE8"==version||"MSIE9"==version||"MSIE"==version?$(e+"_txt").val($(e+"_txt").attr("placeholder")):$(e+"_txt").val(""),$(e+"_inword").html(""),$(quote_element_object).attr(r,"")},startLoanDateValidate=function(){var e=new Date,t=e.getFullYear()-25,r=e.getFullYear(),a=1,o=1,n=1,l=1,i=1;return""==$("#outstanding_loan_month").val()||"0"==$("#outstanding_loan_month").val()?($(quote_element_object).attr("outstanding_loan_month",""),$(quote_element_object).attr("outstanding_loan_year",""),o=0):0==(l=formatValidator("",$("#outstanding_loan_month"),"","","",10,1,12,"","",""))&&(o=0),0==o?$("#outstanding_loan_month").addClass("error"):$("#outstanding_loan_month").removeClass("error"),""==$("#outstanding_loan_year").val()?($(quote_element_object).attr("outstanding_loan_month",""),$(quote_element_object).attr("outstanding_loan_year",""),n=0):0==(i=formatValidator("",$("#outstanding_loan_year"),"","","",10,t,r,"","",""))&&(n=0),0==n?$("#outstanding_loan_year").addClass("error"):$("#outstanding_loan_year").removeClass("error"),""==$("#outstanding_loan_month").val()||"0"==$("#outstanding_loan_month").val()||""==$("#outstanding_loan_year").val()?a=0:0==l||0==i?a=0:($("#outstanding_loan_month").removeClass("error"),$("#outstanding_loan_month").parent().removeClass("error"),$("#outstanding_loan_year").removeClass("error"),iconGroupButtonAction.SetValueByValueAttr($("#outstanding_loan_month"),quote_element_object),iconGroupButtonAction.SetValueByValueAttr($("#outstanding_loan_year"),quote_element_object)),a},getFieldValidate=function(e,t){var r=$(e).attr("name"),a=$("input[name='"+r+"']"),o=1,n=0;$(a).parents("div.panel").offset();if(null==t&&(t=0),"outstanding_balance"==r?(o=formatValidator("",$(a),"","","",8,1e5,25e7,"",12,""),n=1):"email"==r?o=formatValidator("",$(a),"","","",13,"","",6,63,""):"mobile_number"==r&&(o=formatValidatorNew("",$(a),"","","",19,"","","",10,"")),0==o)return""==$(e).val()||0==$(e).val()?$("."+r+"_error_indicator").html($("#"+r).attr("data-validation-error-msg")):$("."+r+"_error_indicator").html("Invalid data"),$(e).addClass("error"),$(a).parent().addClass("error"),0;if($(e).removeClass("error"),$("."+r+"_error_indicator").html(""),$(a).parent().removeClass("error"),1==n){var l=$(quote_element_object).attr($(e).attr("name")),i=$(e).attr("name");void 0!==l&&!1!==l?$(quote_element_object).attr(i,getIntValueFromInr($("input[name='"+i+"']").val())):$(quote_element_object_second).attr(i,getIntValueFromInr($("input[name='"+i+"']").val()))}else{0==iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object)&&iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object_second)}return 1},CustNameValidate=function(e){""==$(e).val()?$(e).addClass("error"):($(e).removeClass("error"),customerNameValidate())},customerNameValidate=function(){var e=1;if(""==$("#customer_name").val()&&(e=0),0==e)$(quote_element_object_second).attr("customer_name","");else{var t=$("#customer_name").val();$(quote_element_object_second).attr("customer_name",t)}},nameValidate=function(e){var t=1;if(""==$("#customer_name").val()&&(t=0),0==t)$(quote_final_element_object).attr("customer_name","");else{var r=$("#customer_name").val();$(quote_final_element_object).attr("customer_name",r)}return t},FirstPageErrorHandler={addError:function(e,t){$(e).parent().addClass("error"),$(e).parent().removeClass("selected"),FirstPageErrorHandler.addErrorIndicator($(e),t)},removeError:function(e){$(e).parent().removeClass("error"),$(e).parent().addClass("selected"),FirstPageErrorHandler.removeErrorIndicator($(e))},addErrorIndicator:function(e,t){$("#"+$(e).attr("name")+"_error_indicator").removeClass("hide"),$("#"+$(e).attr("name")+"_error_message").text(t)},removeErrorIndicator:function(e){$("#"+$(e).attr("name")+"_error_indicator").addClass("hide"),$("#"+$(e).attr("name")+"_error_message").text("")}},rupeeValidate=function(e){if(0==formatValidator("",$(e),"","","",9,"","","","",""))return $(e).addClass("error"),0;$(e).removeClass("error"),0==iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object)&&iconGroupButtonAction.SetValueByValueAttr($(e),quote_element_object_second)},pbError={add:function(e){"MSIE7"==version?($(e).css("border","2px solid #dc6767 !important"),$(e).css("width","271px !important")):$(e).addClass("error"),$("#"+$(e).attr("id")+"_validator").addClass("validate_fail")},remove:function(e){$(e).removeClass("error"),$("#"+$(e).attr("id")+"_validator").removeClass("validate_fail")},addForSelect:function(e){"MSIE7"==version?($(e).parent().css("border","2px solid #dc6767 !important"),$(e).parent().css("width","271px !important")):$(e).parent().addClass("error"),$("#"+$(e).attr("id")+"_validator").addClass("validate_fail")},removeForSelect:function(e){$(e).removeClass("error"),$(e).parent().removeClass("error"),$("#"+$(e).attr("id")+"_validator").removeClass("validate_fail")},right:function(){}},jQueryAutoComplete=function(e,t){$(e).autocomplete({source:t,delay:0,open:function(){$(".ui-menu").width(250)}})},$(document).on("click",".accordian-li",function(){var e=$(this),t=$(e).attr("sort-attr"),r=$(e).attr("sort-type"),a=$(this).find("span");if(null!=t){showLoader("loading","display-block");var o=$(e).attr("field-value");return data="step=backscreen&screen_show="+o+"&type="+r+"&indexType="+t,$.ajax({type:"POST",url:"/"+page_action_url+"/",data:data,dataType:"json",success:function(t){"success"==t.status?($("#main_content").html(t.html),getSliderForAmountAndTenure(),setTimeout(function(){"asc"==r?($(e).attr("sort-type","desc"),$(a).addClass("sort_asc_active")):($(e).attr("sort-type","asc"),$(a).addClass("sort_desc_active")),showLoader("loading","display-none")},100)):"error"==t.status&&($("#err-msg").html(t.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}}),!1}}),pincodeValidator=function(e){var t=formatValidatorNew("",$(e),"","","",5,"","",6,6,"");return 0==t?(pbError.add($(e)),t=!1):(pbError.remove($(e)),t=!0),t},alphaValidator=function(e){var t=formatValidatorNew("",$(e),"","","",1,"","",2,31,"");return 0==t?pbError.add($(e)):pbError.remove($(e)),t},genderValidator=function(e){var t=formatValidatorNew("",$(e),"","","",4,1,2,"","","");return 0==t?pbError.addForSelect($(e)):pbError.removeForSelect($(e)),t};var currentRequest=null;function applyRedirectionBank(e,t){showLoader("loading","display-block"),$.ajax({type:"POST",url:"/"+page_action_url+"/",data:"step=bankapply&applybankId="+e+"&redirection=1",dataType:"json",async:!1,success:function(r){if("success"==r.status)return showLoader("loading","display-none"),digitalData.page.selectedPlan=e,_satellite.track("productSelection"),window.open(t),!1;"error"==r.status&&($("#err-msg").html(r.error_message),$("#err-msg").addClass("message-error m5b"),window.scrollTo(0,100),showLoader("loading","display-none"))}})}AutoListenerSave=function(e,t){var r=new Object;"MSIE7"!=version&&"MSIE8"!=version&&"MSIE9"!=version&&"MSIE"!=version||$('input[type="text"]').each(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")}),autolistener>0&&($("#post_quote_home_loan_balance_transfer_form input, #post_quote_home_loan_balance_transfer_form select").each(function(){switch($(this).attr("name")){case"first_name":1==formatValidatorNew("",$(this),"","","",1,"","",2,31,"")&&$(r).attr("first_name",$(this).val());break;case"middle_name":1==formatValidatorNew("",$(this),"","","",1,"","",2,31,"")&&$(r).attr("middle_name",$(this).val());break;case"last_name":1==formatValidatorNew("",$(this),"","","",1,"","",2,31,"")&&$(r).attr("last_name",$(this).val());break;case"gender":1==formatValidatorNew("",$(object),"","","",4,1,2,"","","")&&"0"!=$(this).val()&&$(r).attr("gender",$(this).val());break;case"address_line1":""!=(e=$.trim($(this).val()))&&e.length>4&&e.length<32&&e.match(address_pattern)&&$(r).attr("address_line1",e);break;case"address_line2":var e;""!=(e=$.trim($(this).val()))&&e.length>4&&e.length<32&&e.match(address_pattern)&&$(r).attr("address_line2",e);break;case"applicant_state":""!=$(this).val()&&0!=$(this).val()&&$(r).attr("state",$(this).val());break;case"city":""!=$(this).val()&&0!=$(this).val()&&$(r).attr("city",$(this).val());break;case"pincode":1==formatValidatorNew("",$(this),"","","",5,"","",6,6,"")&&$(r).attr("pincode",$(this).val());break;case"company_name":var t=$(this).val();""!=t&&t.length>4&&t.length<51&&t.match(/^\d*[a-zA-Z][a-zA-Z0-9\.&_\-\s]*$/)&&$(r).attr("company_name",t);break;case"industry":""!=$(this).val()&&"0"!=$(this).val()&&$(r).attr("industry",$(this).val());break;case"office_address_1":""!=(a=$(this).val())&&a.length>4&&a.length<32&&a.match(address_pattern)&&$(r).attr("office_address_1",a);break;case"office_address_2":var a;""!=(a=$(this).val())&&a.length>4&&a.length<32&&a.match(address_pattern)&&$(r).attr("office_address_2",a);break;case"office_pincode":1==formatValidatorNew("",$(this),"","","",5,"","",6,6,"")&&$(r).attr("office_pincode",$(this).val());break;case"pan_number":var o=$(this).val();""!=$(this).val()&&10==o.length&&isPAN(o)&&$(r).attr("pan_number",$(this).val());break;case"employer_state":""!=$(this).val()&&0!=$(this).val()&&$(r).attr("employer_state",$(this).val());break;case"employer_city":""!=$(this).val()&&0!=$(this).val()&&$(r).attr("employer_city",$(this).val());break;case"buying_period":""!=$(this).val()&&0!=$(this).val()&&$(r).attr("buying_period",$(this).val());break;case"appointment_time":""!=$(this).val()&&0!=$(this).val()&&$(r).attr("appointment_time",$(this).val())}}),$(r).attr("step","auto_listener"),$(r).attr("save_form_Data",t),currentRequest=jQuery.ajax({type:"POST",data:r,dataType:"json",url:'/"+page_action_url+"/',beforeSend:function(){null!=currentRequest&&1==e&&currentRequest.abort()},success:function(t){"success"==t.status&&1==e&&(r=new Object,setTimeout(function(){AutoListenerSave(1,0)},1e4))}}))},scrollElementPosition=function(e,t,r){var a=$(e).parents(r).offset();1==t?($(e).parent().removeClass("error"),$("body,html").animate({scrollTop:parseInt(a.top)+parseInt($(e).parents(r).css("height"))+140},800)):($(e).parent().addClass("error"),$("body,html").animate({scrollTop:parseInt(a.top)-35},800))},calulateOutstandingLoanTenureYear=function(){var e,t,r,a,o,n=new Date,l=n.getMonth(),i=new Date($("#outstanding_loan_year").val(),String(l),1),s=12*$("#total_loan_tenure").val(),d="Outstanding Loan Tenure : ";if(""!=i&&(t=12*(n.getFullYear()-i.getFullYear()),t-=i.getMonth(),t+=n.getMonth(),""!=s))if(r=(e=s-t)/12,a=Math.floor(r),o=Math.round(12*(r-a)),e<=0)$("#total_loan_tenure").addClass("error"),$(quote_element_object).attr("total_loan_tenure",""),$(quote_element_object).attr("outstanding_loan_tenure_year",""),$(quote_element_object).attr("outstanding_loan_tenure_month",""),$(".total_loan_tenure_error_indicator").html($("#total_loan_tenure").attr("data-validation-error-msg")),$("#outstanding_loan_tenure").html("");else{var _=1==a?"year":"years",c=1==o?"month":"months";a>0&&o>0?d+=a+" "+_+" and "+o+" "+c:a>0?d+=a+" "+_:o>0?d+=o+" "+c:d="",$("#outstanding_loan_tenure").html(d),$(quote_element_object).attr("total_loan_tenure",$("#total_loan_tenure").val()),$(quote_element_object).attr("outstanding_loan_tenure_year",a),$(quote_element_object).attr("outstanding_loan_tenure_month",o),$("#total_loan_tenure").removeClass("error")}},getTotalLoanTenure=function(){if($(quote_element_object).attr("total_loan_tenure",""),$("#outstanding_loan_tenure").html(""),""!=$("#outstanding_loan_year").val()){$("#total_loan_tenure").prop("disabled",!1);var e=new Date,t=e.getMonth();$(quote_element_object).attr("outstanding_loan_month",String(t+1));var r=new Date($("#outstanding_loan_year").val(),String(t),1),a="",o="";if(a=12*(e.getFullYear()-r.getFullYear()),a-=r.getMonth(),o=""!=(a+=e.getMonth())&&0!=a?Math.floor(a/12)+1:1,$("#total_loan_tenure").empty(),$("#total_loan_tenure").append($("<option>").attr("value","").text("--Year--")),""!=o)for(var n=o;n<=25;n++){var l=n<=1?" year":" years";$("#total_loan_tenure").append($("<option>").attr("value",n).text(n+l))}}else $("#total_loan_tenure").prop("disabled",!0),$("#total_loan_tenure").val("")},openTNCDiv=function(){var e=$(element).parents("div.panel").offset();$("body,html").animate({scrollTop:parseInt($("#terms_conditions_div").parents("div.panel").css("height"))+parseInt(e.top)+25},1e3)},goog_snippet_vars=function(){var e=window;e.google_conversion_id=1033597982,e.google_conversion_label="uOa2CKXvkHgQnujt7AM",e.google_remarketing_only=!1},goog_report_conversion=function(e){goog_snippet_vars(),window.google_conversion_format="3";var t=new Object;t.onload_callback=function(){};var r=window.google_trackConversion;"function"==typeof r&&r(t)},$(document).on("click","[data-validation]",function(){$(this).parents("div#step-1").length?allvalidate($(this),1):allvalidate($(this),2)}),$(document).on("change","select[data-validation]",function(){$(this).parents("div#step-1").length?allvalidate($(this),1):allvalidate($(this),2)}),toggleT=function(){"hide"==$("#more_plus").attr("class")?($("#more_plus").removeClass("hide"),$("#moretext").text("Less-")):($("#more_plus").addClass("hide"),$("#moretext").text("More+"))};