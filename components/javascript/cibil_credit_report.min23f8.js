jQuery(function($){var getPincode="https://api2.paisabazaar.com/BSP/api/v1/utility/city/pincode/",dd_pattern=/^(0[1-9]|[1-2][0-9]|3[0-1])$/,mm_pattern=/^(0[1-9]|1[0-2])$/,yy_pattern=/^(19[6-9][0-9]|20[0-9][0-9])$/,mob_pattern=/^[7-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/,email_pattern=/^[_a-z_A-Z0-9-]+(\.[_a-z_A-Z0-9-]+)*@[a-z_A-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[A-Za-z]{2,})$/,pan_pattern=/^[a-zA-Z][a-zA-Z][a-zA-Z][pP][a-zA-Z][0-9][0-9][0-9][0-9][a-zA-Z]$/,name_pattern=/^[A-Za-z]+\s+[a-zA-Z]+([\s]+)?([a-zA-Z]+)?([\s]+)?$/,validPincode=!0,name_length=25;$("#pan_number").keyup(function(){this.value=this.value.toUpperCase()}),$(".selectpicker").selectpicker({style:"form-control"}),$("#dob_calander").datepicker({defaultDate:new Date(80,0,1),changeMonth:!0,changeYear:!0,numberOfMonths:1,dateFormat:"dd/mm/yy",showAnim:"fadeIn",onSelect:function(){var dob=$(this).val();$("#dob_calander").val("");var dob_elements=dob.split("/");$("#dob_dd").val(dob_elements[0]),$("#dob_mm").val(dob_elements[1]),$("#dob_yy").val(dob_elements[2]),$("#dateOfBirth").removeClass("error"),$("#dob_validate").removeClass("error"),formValidationFirst("dob_dd",""),formValidationFirst("dob_mm",""),formValidationFirst("dob_yy","")}}),$(".readMore").on("click",function(e){$("#equifax_terms_span").parent().hasClass("show")?($("#equifax_terms_span").parent().removeClass("show"),$(".readMore").html("More+")):($("#equifax_terms_span").parent().addClass("show"),$(".readMore").html("Less-"))}),$(document).on("change","#equifax_terms",function(event){var target,id;formValidationFirst($(event.currentTarget).attr("id"),event)}),$(document).on("blur, keyup","#pincode",function(event){getCityByPincode($("#pincode").val())}),$(document).on("keyup","#dob_dd, #dob_mm, #dob_yy",function(event){var target,id;formValidationFirst($(event.currentTarget).attr("id"),event)}),$(document).on("keypress","#mobile_number, #customer_name, #pan_number, #email_address, #pincode",function(event){var target,id;return formValidationFirst($(event.currentTarget).attr("id"),event)}),$(document).on("change","input, select",function(event){var target,id=$(event.currentTarget).attr("id");""!=$("#"+id).val()?(error(id,!0),dob_error(id,!0)):(error(id,!1),dob_error(id,!1))}),$(document).on("blur","input, select",function(event){var target,id=$(event.currentTarget).attr("id");""!=$("#"+id).val()?(error(id,!0),dob_error(id,!0)):(error(id,!1),dob_error(id,!1))}),$(document).on("keypress","input, select",function(event){var target,id=$(event.currentTarget).attr("id");""!=$("#"+id).val()?(error(id,!0),dob_error(id,!0)):(error(id,!1),dob_error(id,!1))}),$(document).on("keyup","#dob_dd, #dob_mm, #dob_yy",function(event){var target=$(event.currentTarget),id=target.attr("id"),length=target.val().length;"dob_dd"==id&&2==length?$("#dob_mm").focus():"dob_mm"==id&&2==length&&$("#dob_yy").focus()}),$(document).on("keypress","#dob_dd, #dob_mm, #dob_yy",function(event){var target,id=$(event.currentTarget).attr("id");return"dob_dd"==id?Validator(event,$("#dob_dd"),15,2,2):"dob_mm"==id?Validator(event,$("#dob_mm"),17,2,2):"dob_yy"==id?Validator(event,$("#dob_yy"),5,4,4):void 0}),$(document).on("blur, change","#customer_name",function(){$(".user_name").text($("#customer_name").val())}),$(document).on("blur, change","#city_id",function(){$(".user_consent_city").text($("#city_id option:selected").html())}),$(document).on("click","#apply_btn",function(event){var response=!0,customer_name,customer_name,validator,dob_dd,dob_mm,dob_yy;$("#set_error").text("Enter complete name as per PAN"),error("customer_name",customer_name=name_pattern.test($("#customer_name").val())),0==customer_name&&(response=!1),null==(customer_name=$("#customer_name").val().trim()).match(" ")||""==customer_name.match(" ")?(error("customer_name",!1),response=!1):error("customer_name",!0),!1===customer_name_validator($("#customer_name").val())&&(response=!1),0==formValidationFirst("dob_dd","")&&(error("dob",!1),response=!1),0==formValidationFirst("dob_mm","")&&(error("dob",!1),response=!1),0==formValidationFirst("dob_yy","")&&(error("dob",!1),response=!1);var pan_number=pan_pattern.test($("#pan_number").val().trim());error("pan_number",pan_number),0==pan_number&&(response=!1),(""==$("#pincode").val().trim()||1==isNaN($("#pincode").val())||$("#pincode").val().length<=4)&&(error("pincode",!1),response=!1),!1===validPincode&&(error("pincode",!1),response=!1),""==$("#city_id option:selected").val().trim()?(error("city_id",!1),$("#city_id").attr("disabled",!1),response=!1):error("city_id",!0);var email_address=email_pattern.test($("#email_address").val());error("email_address",email_address),0==email_address&&(response=!1);var mobile_number=mob_pattern.test($("#mobile_number").val()),equifax_terms;return error("mobile_number",mobile_number),0==mobile_number&&(response=!1),9777777777==$("#mobile_number").val()&&(error("mobile_number",!1),response=!1),0==formValidationFirst("equifax_terms","")&&(response=!1),!!response&&(pb_tracker.trackEvent(["clevertap"],"BU_persdetails",{form_type:"cibil-credit",utm_source:utm_source,utm_content:utm_content,utm_term:utm_term}),showLoader("loading","display-block"),!0)}),$(document).on("keyup","#customer_name",function(event){var target=$(event.currentTarget);customer_name_validator(target.val())});var customer_name_validator=function(str){var customer_name=name_pattern.test(str),name="",surname="",array=str.split(/(\s+)/);for(new_array=array.filter(function(str){return/\S/.test(str)}),i=0;i<new_array.length;i++)0==i?name=new_array[i]:surname+=" "+new_array[i];if(name.trim().length>25)return $("#set_error").text("Please do not enter more than 25 letters in your first name"),$("#set_error").removeClass("hide"),error("customer_name",!1),!1;if(new_array.length>=3){var surname_array=surname.split(/(\s+)/);if(sr_new_array=surname_array.filter(function(str){return/\S/.test(str)}),sr_new_array[0].trim().length>25||sr_new_array[1].trim().length>25)return $("#set_error").text("Please do not enter more than 25 letters in your last name"),$("#set_error").removeClass("hide"),error("customer_name",!1),!1}else if(surname.trim().length>25)return $("#set_error").text("Please do not enter more than 25 letters in your last name"),$("#set_error").removeClass("hide"),error("customer_name",!1),!1;return name.trim().length>0&&name.trim().length<3?($("#set_error").text("Please enter at least 3 letters in your first name"),$("#set_error").removeClass("hide"),error("customer_name",!1),!1):(name.trim().length>=2&&($("#set_error").text("Enter complete name as per PAN"),error("customer_name",customer_name)),surname.trim().length>0&&surname.trim().length<3?($("#set_error").text("Please enter at least 3 letters in your last name"),$("#set_error").removeClass("hide"),error("customer_name",!1),!1):(surname.trim().length>=2&&($("#set_error").text("Enter complete name as per PAN"),error("customer_name",customer_name)),surname.trim().length>2&&name.trim().toLowerCase()==surname.trim().toLowerCase()?($("#set_error").text("Please enter a different last name"),$("#set_error").removeClass("hide"),error("customer_name",!1),!1):($("#set_error").text("Enter complete name as per PAN"),error("customer_name",customer_name),!0)))};function formValidationFirst(id,event){var $this=$("#"+id),val=$("#"+id).val();switch(id){case"customer_name":return Validator(event,$this,2,2,20);case"pan_number":return Validator(event,$this,21,"","");case"pincode":return Validator(event,$this,5,6,6);case"email_address":return Validator(event,$this,20,6,63);case"mobile_number":return Validator(event,$this,19,"","");case"dob_dd":var status;return status=dd_pattern.test(val);case"dob_mm":var status;return status=mm_pattern.test(val);case"dob_yy":var status;return status=yy_pattern.test(val);case"equifax_terms":return void 0===$("input[id=equifax_terms]:checked").val()?($("#equifax_terms_span").css("color","red"),!1):($("#equifax_terms_span").css("color","#999"),!0);default:"radio"==$("input").attr("type")?""==$("input[name=gender_id]:checked").val()?error("gender",!1):error("gender",!0):""==$("#"+id).val()||""==$("#"+id).val().trim()||null==$("#"+id).val()?error("dob",!1):error("dob",!0)}}function error(id,status){0==status?$("#"+id+"_validate").addClass("error"):$("#"+id+"_validate").removeClass("error")}function dob_error(id,status){"dob_dd"!=id&&"dob_mm"!=id&&"dob_yy"!=id||error("dob",status)}function getCityByPincode(pincode){pincode.length>=5&&$.ajax({type:"GET",url:getPincode+pincode,dataType:"json",error:function(jqXHR,exception){validPincode=!1,error("pincode",!1),$("#city_id").attr("disabled",!1),$(".city_div .filter-option").text("Select Your City"),$("#city_id").val("")},success:function(res){1==res.status?($("#city_id").val(res.response[0].cityId),$(".city_div .filter-option").text(res.response[0].city),$(".user_consent_city").text($("#city_id option:selected").html()),$("#city_id_validate").removeClass("error"),$("#city_id").attr("disabled",!0),error("pincode",!0),validPincode=!0):($("#city_id").attr("disabled",!1),$(".city_div .filter-option").text("Select Your City"),$("#city_id").val(""))}})}Validator=function(event,$this,stage,limit,lastLimit){return formatValidatorNew(event,$this,"","","",stage,"","",limit,lastLimit,"")},$(document).ready(function(){$(document).width()<768&&$("html, body").animate({scrollTop:$(".form_banner").offset().top},"slow")}),$(document).on("click",".Partners_Terms_content_parent a",function(e){var url=e.target.href,get_id=url.substring(url.indexOf("#")+1);return get_id&&document.getElementById(get_id).scrollIntoView(),!1}),$(document).on("click",".terms_link",function(e){var name=$("#customer_name").val();return $(".equi_popup_name, #user_name").text(name),!1})}),$(window).scroll(function(){$(window).scrollTop()>=450?$("#sticky_strip ").addClass("fixed_strip"):$("#sticky_strip").removeClass("fixed_strip")}),$(function(e){e.preventDefault,$(".focus_popover").popover({html:!0,trigger:"focus",placement:"bottom"})});